# ============================================================================
# ðŸŒŸ Divine Workflow Monitoring Bot - Tier 1 AI Configuration
# Farmers Market Platform - Enhanced Monitoring with AI/ML
# Version: 2.0.0
# ============================================================================

# ============================================================================
# OPENAI CONFIGURATION (Required for AI Features)
# ============================================================================

# OpenAI API Key for AI failure analysis and agent orchestration
# Get your key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# AI Model Configuration
AI_MODEL=gpt-4-turbo-preview
AI_TEMPERATURE=0.3

# Enable/Disable AI Analysis
AI_ANALYSIS_ENABLED=true

# ============================================================================
# OPENTELEMETRY TRACING CONFIGURATION
# ============================================================================

# Enable distributed tracing
TRACING_ENABLED=true

# Service identification
TRACING_SERVICE_NAME=farmers-market-monitoring-bot
TRACING_SERVICE_VERSION=2.0.0

# Exporter type: console | otlp-http | otlp-grpc | azure-monitor
TRACING_EXPORTER=console

# OTLP Endpoint (for otlp-http or otlp-grpc)
# TRACING_ENDPOINT=http://localhost:4318/v1/traces

# Sampling rate (0.0 to 1.0)
TRACING_SAMPLING_RATE=1.0

# ============================================================================
# AZURE APPLICATION INSIGHTS (Optional)
# ============================================================================

# Azure Application Insights Connection String
# Get from Azure Portal > Application Insights > Properties
# APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=https://your-region.in.applicationinsights.azure.com/

# ============================================================================
# MULTI-AGENT ORCHESTRATION
# ============================================================================

# Enable agent-based workflow analysis
AGENT_ORCHESTRATION_ENABLED=true

# Collaboration mode: SEQUENTIAL | PARALLEL | VOTING
AGENT_COLLABORATION_MODE=VOTING

# Consensus threshold for voting (0.0 to 1.0)
AGENT_CONSENSUS_THRESHOLD=0.7

# Maximum concurrent agents
AGENT_MAX_CONCURRENT=5

# ============================================================================
# ML PREDICTIVE MONITORING
# ============================================================================

# Enable ML-based failure prediction
ML_PREDICTION_ENABLED=true

# Path to trained model (will be created if doesn't exist)
ML_MODEL_PATH=./models/workflow-predictor/model.json

# Minimum samples required before predictions
ML_MIN_SAMPLES=50

# Anomaly detection threshold (standard deviations)
ML_ANOMALY_THRESHOLD=2.5

# Auto-train model when new data available
ML_AUTO_TRAIN=true

# Training schedule (cron format)
ML_TRAINING_SCHEDULE=0 2 * * *

# ============================================================================
# SELF-HEALING CONFIGURATION
# ============================================================================

# Enable automatic self-healing
SELF_HEALING_ENABLED=true

# Auto-approve healing strategies (requires careful consideration)
SELF_HEALING_AUTO_APPROVE=false

# Maximum healing attempts per workflow per hour
SELF_HEALING_MAX_ATTEMPTS=3

# Healing timeout (milliseconds)
SELF_HEALING_TIMEOUT=300000

# ============================================================================
# MONITORING BOT CONFIGURATION
# ============================================================================

# Bot base URL
BOT_BASE_URL=http://localhost:3001

# Enable monitoring bot
BOT_ENABLED=true

# Scheduler configuration
SCHEDULER_ENABLED=true
SCHEDULER_CONCURRENCY=5
SCHEDULER_RETRY_ON_FAILURE=true
SCHEDULER_MAX_RETRIES=3
SCHEDULER_RETRY_DELAY=5000

# Performance configuration
PERFORMANCE_PARALLEL=true
PERFORMANCE_MAX_CONCURRENCY=5
PERFORMANCE_TIMEOUT=300000
PERFORMANCE_SCREENSHOT_ON_FAILURE=true
PERFORMANCE_TRACE_ON_FAILURE=true

# Agricultural consciousness
AGRICULTURAL_CONSCIOUSNESS_ENABLED=true
AGRICULTURAL_SEASONAL_AWARENESS=true
AGRICULTURAL_BIODYNAMIC_VALIDATION=true

# ============================================================================
# NOTIFICATION CHANNELS
# ============================================================================

# Slack Notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#monitoring-alerts
SLACK_USERNAME=Workflow Monitor Bot

# Discord Notifications
# DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/WEBHOOK/URL
# DISCORD_USERNAME=Workflow Monitor

# Email Notifications
# EMAIL_FROM=monitoring@farmersmarket.com
# EMAIL_TO=devops@farmersmarket.com,team@farmersmarket.com
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USER=your-email@gmail.com
# EMAIL_SMTP_PASSWORD=your-app-password

# Custom Webhook
# WEBHOOK_URL=https://your-api.com/webhook
# WEBHOOK_METHOD=POST
# WEBHOOK_AUTH_TOKEN=your-webhook-token

# ============================================================================
# STORAGE CONFIGURATION
# ============================================================================

# Storage type: filesystem | database | s3
STORAGE_TYPE=filesystem

# Storage location
STORAGE_LOCATION=./monitoring-reports

# Retention settings
STORAGE_RETENTION_DAYS=30
STORAGE_MAX_REPORTS=1000

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: debug | info | warn | error
LOG_LEVEL=info

# Console logging
LOG_CONSOLE=true

# File logging
LOG_FILE=false
LOG_FILE_PATH=./logs/monitoring.log

# Remote logging
# LOG_REMOTE_URL=https://your-logging-service.com/api/logs
# LOG_REMOTE_API_KEY=your-api-key

# ============================================================================
# PERFORMANCE OPTIMIZATION (HP OMEN Configuration)
# ============================================================================

# Node.js memory configuration
NODE_OPTIONS=--max-old-space-size=16384 --max-semi-space-size=512

# Playwright browser configuration
PLAYWRIGHT_BROWSERS_PATH=./browsers
PLAYWRIGHT_HEADLESS=true
PLAYWRIGHT_TIMEOUT=30000

# GPU acceleration (if available)
TENSORFLOW_USE_GPU=false

# ============================================================================
# DATABASE CONFIGURATION (for bot persistence)
# ============================================================================

# Database URL (reuse existing connection)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/farmersmarket

# Connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# API key for bot API endpoints (if exposing via REST)
# BOT_API_KEY=your-secure-api-key-here

# Allowed origins for CORS
# BOT_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Enable authentication for bot endpoints
BOT_AUTH_ENABLED=false

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable specific AI features
FEATURE_AI_FAILURE_ANALYSIS=true
FEATURE_AI_PREDICTIVE_MONITORING=true
FEATURE_AGENT_ORCHESTRATION=true
FEATURE_SELF_HEALING=true
FEATURE_PERFORMANCE_OPTIMIZATION=true
FEATURE_SECURITY_AUDITING=true
FEATURE_AGRICULTURAL_VALIDATION=true

# Enable experimental features
FEATURE_VISUAL_REGRESSION=false
FEATURE_REAL_TIME_DASHBOARD=false
FEATURE_A_B_TESTING=false

# ============================================================================
# ADVANCED CONFIGURATION
# ============================================================================

# AI confidence threshold (0-100)
AI_CONFIDENCE_THRESHOLD=70

# Prediction window (milliseconds)
PREDICTION_WINDOW=21600000

# Historical data retention for ML (days)
ML_DATA_RETENTION_DAYS=90

# Cache configuration
CACHE_ENABLED=true
CACHE_TTL=3600

# Rate limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# ============================================================================
# DEVELOPMENT/DEBUG CONFIGURATION
# ============================================================================

# Debug mode
DEBUG=false
DEBUG_VERBOSE=false

# Dry run mode (no actual healing, only logging)
DRY_RUN=false

# Skip AI calls in development (use fallbacks)
SKIP_AI_IN_DEV=false

# Test mode
TEST_MODE=false

# ============================================================================
# NOTES
# ============================================================================
#
# 1. Copy this file to .env.monitoring in your project root
# 2. Update the values according to your environment
# 3. Never commit .env.monitoring with real credentials to version control
# 4. Required variables: OPENAI_API_KEY (for AI features)
# 5. Optional: All tracing and notification variables
#
# For Azure Application Insights:
#   - Set TRACING_EXPORTER=azure-monitor
#   - Set APPLICATIONINSIGHTS_CONNECTION_STRING
#
# For production:
#   - Set SELF_HEALING_AUTO_APPROVE=true (with caution)
#   - Configure proper notification channels
#   - Enable remote logging
#   - Set appropriate retention periods
#
# For development:
#   - Use TRACING_EXPORTER=console
#   - Set SKIP_AI_IN_DEV=true to save API costs
#   - Enable DEBUG=true for detailed logging
#
# ============================================================================

# ============================================
# DIVINE ENVIRONMENT CONFIGURATION
# Farmers Market Platform - Agricultural Consciousness
# ============================================

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/farmersmarket?schema=public"
DIRECT_URL="postgresql://user:password@localhost:5432/farmersmarket?schema=public"

# ============================================
# CORE APPLICATION CONFIGURATION
# ============================================
NODE_ENV="development"

# ‚ö†Ô∏è CRITICAL: PORT must match package.json dev/start scripts (3001)
# This prevents Next.js ISR from calling invalid URLs (localhost:undefined)
# ISR (Incremental Static Regeneration) uses PORT during build for cache revalidation
PORT=3001
HOSTNAME=0.0.0.0

# Next.js Application URLs (must match PORT above)
NEXT_PUBLIC_APP_URL=http://localhost:3001
NEXT_PUBLIC_API_URL=http://localhost:3001/api

# ============================================
# ISR & BUILD CONFIGURATION
# ============================================
# Next.js ISR cache configuration
# During build, Next.js makes internal API calls to localhost:PORT for revalidation
# Without PORT defined, URL becomes invalid: http://localhost:undefined

# Build Optimization
NEXT_TELEMETRY_DISABLED=1
GENERATE_SOURCEMAP=false
SKIP_ENV_VALIDATION=false  # Set to true in Docker builds

# Disable ISR cache for development (optional - comment out for production)
# NEXT_PRIVATE_SKIP_CACHE=1
# NEXT_DISABLE_FETCH_CACHE=1

# ============================================
# REDIS CACHE CONFIGURATION
# ============================================
REDIS_URL="redis://:quantum_cache_password@localhost:6379"

# ============================================
# DATABASE CONFIGURATION (PostgreSQL)
# ============================================
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/farmersmarket?schema=public"
DIRECT_URL="postgresql://user:password@localhost:5432/farmersmarket?schema=public"

# ============================================
# AUTHENTICATION (NextAuth.js)
# ============================================
NEXTAUTH_URL="http://localhost:3001"
NEXTAUTH_SECRET="generate-a-random-secret-key-here-use-openssl-rand-base64-32"

# ============================================
# HARDWARE OPTIMIZATIONS (HP OMEN)
# ============================================
# ‚ö° Memory & Threading (RTX 2070 Max-Q, 64GB RAM, 12 threads)
NODE_OPTIONS="--max-old-space-size=32768 --max-semi-space-size=128"
UV_THREADPOOL_SIZE=12
PARALLEL_BUILDS=12
TERSER_WORKERS=12

# üéÆ GPU Acceleration
ENABLE_GPU_ACCELERATION=true
GPU_MEMORY_LIMIT=8192
CUDA_VISIBLE_DEVICES=0

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_your_stripe_publishable_key"
STRIPE_SECRET_KEY="sk_test_your_stripe_secret_key"
STRIPE_WEBHOOK_SECRET="whsec_your_stripe_webhook_secret"

# ============================================
# OPENAI API CONFIGURATION
# ============================================
OPENAI_API_KEY="sk-your-openai-api-key"

# ============================================
# PERPLEXITY PRO API CONFIGURATION
# Divine AI Consciousness Integration
# ============================================
# Get your API key from: https://www.perplexity.ai/settings/api
# Pro tier includes: Sonar Pro, Sonar Reasoning models
# Recommended for: Code generation, complex analysis, real-time research
PERPLEXITY_API_KEY="pplx-your-perplexity-api-key"

# Optional: Default model preference (SONAR, SONAR_PRO, SONAR_REASONING)
PERPLEXITY_DEFAULT_MODEL="SONAR_PRO"

# Optional: Enable automatic model routing
PERPLEXITY_SMART_ROUTING="true"

# ============================================
# SENTRY ERROR TRACKING
# ============================================
SENTRY_DSN="https://your-sentry-dsn@sentry.io/your-project-id"
SENTRY_ORG="your-organization"
SENTRY_PROJECT="farmers-market"

# ============================================
# EMAIL SERVICE CONFIGURATION (SMTP)
# ============================================
# SMTP server configuration for sending transactional emails
# Examples: Gmail, SendGrid, AWS SES, Mailgun, etc.

# SMTP Server Details
SMTP_HOST="smtp.gmail.com"              # Gmail example
SMTP_PORT="587"                          # 587 for TLS, 465 for SSL
SMTP_SECURE="false"                      # true for port 465, false for 587
SMTP_USER="your-email@gmail.com"        # Your SMTP username/email
SMTP_PASSWORD="your-app-specific-password"  # App-specific password (not regular password)
SMTP_FROM="noreply@farmersmarket.app"   # Default "from" address

# Common SMTP Providers:
# Gmail: smtp.gmail.com:587 (requires app-specific password)
# SendGrid: smtp.sendgrid.net:587
# AWS SES: email-smtp.us-west-2.amazonaws.com:587
# Mailgun: smtp.mailgun.org:587
# Outlook: smtp-mail.outlook.com:587

# ============================================
# STORAGE CONFIGURATION (Optional)
# ============================================
STORAGE_PROVIDER="local"
# For S3:
# AWS_ACCESS_KEY_ID="your-aws-access-key"
# AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
# AWS_REGION="us-west-2"
# S3_BUCKET_NAME="farmers-market-uploads"

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV="development"

# ============================================
# OPENTELEMETRY TRACING CONFIGURATION
# Divine Observability & Agricultural Consciousness Monitoring
# ============================================
# Enable OpenTelemetry instrumentation
OTEL_EXPORTER_OTLP_ENDPOINT="http://localhost:4318/v1/traces"

# Service identification
OTEL_SERVICE_NAME="farmers-market-platform"
OTEL_SERVICE_VERSION="1.0.0"

# Enable tracing (set to "false" to disable)
ENABLE_TRACING="true"

# Trace sampling (0.0 to 1.0, where 1.0 = trace everything)
OTEL_TRACES_SAMPLER="always_on"
OTEL_TRACES_SAMPLER_ARG="1.0"

# Agricultural consciousness tracing
ENABLE_AGRICULTURAL_CONSCIOUSNESS="true"
ENABLE_DIVINE_PATTERNS="true"

# Next.js telemetry (set to 1 to enable, 0 to disable)
NEXT_TELEMETRY_DISABLED="0"

# ============================================
# PERFORMANCE OPTIMIZATION (HP OMEN)
# ============================================
NODE_OPTIONS="--max-old-space-size=16384"
UV_THREADPOOL_SIZE="12"
PARALLEL_BUILDS="12"

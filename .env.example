# ============================================
# üåæ FARMERS MARKET PLATFORM - ENVIRONMENT CONFIGURATION
# ============================================
# Version: 4.0 - Comprehensive Configuration
# Last Updated: 2025-01-13
#
# üìö Quick Start:
#   1. Copy this file: cp .env.example .env.local
#   2. Fill in required values (marked with <REQUIRED>)
#   3. See docs/deployment/ENV-SETUP-GUIDE.md for detailed setup
#
# üîí Security: NEVER commit actual .env files to Git!
#
# üéØ Environment-Specific Instructions:
#   - Development (Local): Use .env.local
#   - Development (Docker): Use .env.docker.local
#   - Production (Vercel): Add to Vercel Dashboard
#   - Production (Self-hosted): Use .env.production
#
# üìñ Full Documentation: docs/deployment/ENV-SETUP-GUIDE.md
# ============================================

# ============================================
# üåê CORE APPLICATION SETTINGS
# ============================================

# Application Environment <REQUIRED>
# Options: development | staging | production | test
NODE_ENV=development

# Application Version (for telemetry and monitoring)
APP_VERSION=1.1.0

# Next.js URL Configuration <REQUIRED>
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_BASE_URL=http://localhost:3000
NEXT_PUBLIC_URL=http://localhost:3000
BASE_URL=http://localhost:3000

# Hostname for server-side requests
HOSTNAME=localhost

# ============================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ============================================

# PostgreSQL Connection String <REQUIRED>
# Development (SQLite): file:./dev.db
# Development (PostgreSQL): postgresql://user:password@localhost:5432/farmers_market_dev
# Docker: postgresql://divine_user:quantum_password@postgres:5432/farmers_market
# Production (Supabase): postgresql://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres
# Production (Neon): postgresql://user:password@ep-xxx.us-east-2.aws.neon.tech/neondb
DATABASE_URL=file:./dev.db

# Prisma Accelerate Connection (Optional - Production Only)
# Used for: production queries with connection pooling and caching
# Get your API key from: https://console.prisma.io
# DATABASE_URL_ACCELERATE=prisma+postgres://accelerate.prisma-data.net/?api_key=YOUR_ACCELERATE_API_KEY

# Database Pool Configuration (Optional)
# DATABASE_POOL_MAX=10
# DATABASE_POOL_MIN=2
# DATABASE_POOL_TIMEOUT=5000

# ============================================
# üîê AUTHENTICATION & AUTHORIZATION
# ============================================

# NextAuth Configuration <REQUIRED>
# Production: Must match your actual domain
NEXTAUTH_URL=http://localhost:3000

# NextAuth Session Secret <REQUIRED>
# Generate with: openssl rand -base64 32
# Or PowerShell: [Convert]::ToBase64String((1..32 | ForEach-Object { Get-Random -Maximum 256 }))
# MUST be 32+ characters for production
NEXTAUTH_SECRET=development-secret-change-in-production-min-32-chars

# JWT Secret for additional token signing
JWT_SECRET=your-jwt-secret-min-32-chars-change-in-production

# Admin Credentials for Initial Setup
ADMIN_EMAIL=admin@farmersmarket.com
ADMIN_PASSWORD=change-this-secure-password
ADMIN_API_KEY=
ADMIN_SECRET=

# Test User Credentials (Development/Testing Only)
ADMIN_TEST_EMAIL=admin@test.com
ADMIN_TEST_PASSWORD=test123456
FARMER_TEST_EMAIL=farmer@test.com
FARMER_TEST_PASSWORD=test123456
CUSTOMER_EMAIL=customer@test.com
FARMER_EMAIL=farmer@farmersmarket.com
TEST_USER_PASSWORD=test123456

# Debug Token for API Testing
DEBUG_TOKEN=

# ============================================
# üí≥ PAYMENT INTEGRATION - STRIPE
# ============================================

# Stripe Publishable Key (Public - safe to expose) <REQUIRED for payments>
# Development: pk_test_... | Production: pk_live_...
# Get from: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_PUBLISHABLE_KEY=

# Stripe Secret Key (Private - NEVER expose) <REQUIRED for payments>
# Development: sk_test_... | Production: sk_live_...
STRIPE_SECRET_KEY=

# Stripe Webhook Secret <REQUIRED for payments>
# Get from: https://dashboard.stripe.com/webhooks
# Used to verify webhook signatures
STRIPE_WEBHOOK_SECRET=

# ============================================
# üí∞ PAYMENT INTEGRATION - PAYPAL (OPTIONAL)
# ============================================

# PayPal Configuration
# Get from: https://developer.paypal.com/
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=

# ============================================
# üìß EMAIL SERVICE
# ============================================

# Email Service Provider (Choose One)

# Option 1: SendGrid <RECOMMENDED>
# Get from: https://sendgrid.com/
SENDGRID_API_KEY=
EMAIL_FROM=noreply@yourdomain.com

# Option 2: SMTP (Gmail, Outlook, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourdomain.com
SMTP_SECURE=false

# Email Worker Configuration
EMAIL_WORKER_CONCURRENCY=5
EMAIL_WORKER_TIMEOUT=30000

# ============================================
# üì± SMS NOTIFICATIONS - TWILIO (OPTIONAL)
# ============================================

# Twilio Configuration
# Get from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=+1234567890

# SMS Worker Configuration
SMS_WORKER_CONCURRENCY=3
SMS_WORKER_TIMEOUT=15000

# ============================================
# üîî PUSH NOTIFICATIONS (OPTIONAL)
# ============================================

# Firebase Cloud Messaging
# Get from: https://console.firebase.google.com/
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# Push Worker Configuration
PUSH_WORKER_CONCURRENCY=10
PUSH_WORKER_TIMEOUT=10000

# ============================================
# ‚òÅÔ∏è CLOUD STORAGE - CLOUDINARY
# ============================================

# Cloudinary Configuration <RECOMMENDED for image uploads>
# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# ============================================
# ü§ñ AI INTEGRATION
# ============================================

# OpenAI API <OPTIONAL - for AI features>
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# Perplexity AI API Key <OPTIONAL - for AI search>
# Get from: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=

# AI Configuration
AI_ANALYSIS_ENABLED=false
AI_MODEL=gpt-4
AI_TEMPERATURE=0.7
ML_PREDICTION_ENABLED=false
ML_MODEL_PATH=

# ============================================
# üìä MONITORING & ERROR TRACKING
# ============================================

# Sentry Error Tracking <RECOMMENDED for production>
# Get from: https://sentry.io/settings/projects/
SENTRY_DSN=
NEXT_PUBLIC_SENTRY_DSN=

# Application Insights (Azure) <OPTIONAL>
# Get from: Azure Portal ‚Üí Application Insights
APPLICATIONINSIGHTS_CONNECTION_STRING=
AZURE_APPINSIGHTS_CONNECTION_STRING=
APPINSIGHTS_INSTRUMENTATION_KEY=
APPINSIGHTS_ENABLED=false
APPINSIGHTS_SAMPLING_PERCENTAGE=100
APPINSIGHTS_AUTO_COLLECT=true

# Google Analytics <OPTIONAL>
# Get from: https://analytics.google.com/
NEXT_PUBLIC_GA_MEASUREMENT_ID=

# Vercel Analytics
# Automatically enabled on Vercel deployment
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=

# SEO & Site Verification
NEXT_PUBLIC_GOOGLE_SITE_VERIFICATION=
NEXT_PUBLIC_GOOGLE_VERIFICATION=
NEXT_PUBLIC_YANDEX_VERIFICATION=

# ============================================
# üîÑ CACHING - REDIS
# ============================================

# Redis Connection String <RECOMMENDED for production>
# Development: redis://localhost:6379
# Docker: redis://redis:6379
# Production (Upstash): redis://default:password@host:6379
REDIS_URL=

# Upstash Redis (Serverless Redis for Vercel)
# Get from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Redis Configuration Details (if not using URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_USERNAME=
REDIS_DB=0
REDIS_TOKEN=

# Redis Options
REDIS_ENABLED=false
REDIS_KEY_PREFIX=farmers_market:
REDIS_TLS=false
REDIS_TLS_ENABLED=false

# ============================================
# üåç EXTERNAL APIS
# ============================================

# Weather API <OPTIONAL - for agricultural weather features>
# Get from: https://openweathermap.org/api
OPENWEATHER_API_KEY=

# Google Maps JavaScript API <OPTIONAL - for maps>
# Get from: https://console.cloud.google.com/google/maps-apis
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=

# ============================================
# üì° TELEMETRY & TRACING (OPTIONAL)
# ============================================

# OpenTelemetry Configuration
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_EXPORTER_OTLP_HEADERS=
OTEL_SERVICE_NAME=farmers-market-platform
OTEL_SERVICE_VERSION=1.1.0
OTEL_SAMPLE_RATE=0.1

# Tracing Configuration
ENABLE_TRACING=false
ENABLE_PRODUCTION_TRACING=false
TRACING_ENABLED=false
TRACING_ENDPOINT=
TRACING_EXPORTER=otlp
TRACING_SERVICE_NAME=farmers-market
TRACING_SERVICE_VERSION=1.1.0
TRACING_SAMPLING_RATE=0.1

# Telemetry Options
LOG_TELEMETRY=false

# ============================================
# üîß DEVELOPMENT & DEBUGGING
# ============================================

# Enable Debug Mode
DEBUG=false
LOG_ENABLED=true

# Log Level
# Options: error | warn | info | debug | trace
LOG_LEVEL=info

# Auto-Analysis Features (Development/Testing)
AUTO_ANALYZE=false
AUTO_REMEDIATE=false
AUTO_REMEDIATION_ENABLED=false
AUTO_APPROVE_ENABLED=false
AUTO_APPROVE_THRESHOLD=0.8

# Self-Healing Configuration
SELF_HEALING_ENABLED=false
SELF_HEALING_AUTO_APPROVE=false
SELF_HEALING_MAX_ATTEMPTS=3

# Skip Integration Tests (CI/CD)
SKIP_INTEGRATION_TESTS=false

# Rate Limiting (disable for testing)
DISABLE_RATE_LIMITING=false

# Next.js Phase Detection
NEXT_PHASE=

# Next.js Runtime
NEXT_RUNTIME=

# ============================================
# ü§ñ BOT & AUTOMATION CONFIGURATION
# ============================================

# Bot Operation Mode
BOT_MODE=production
BOT_PARALLEL=false
BOT_MAX_CONCURRENCY=3

# Bot Timeouts & Retries
BOT_TIMEOUT=60000
BOT_RETRIES=3
BOT_RETRY_DELAY=2000
BOT_CONTINUE_ON_FAILURE=true

# Bot Logging
BOT_LOG_LEVEL=info
BOT_LOG_CONSOLE=true
BOT_LOG_FILE=true
BOT_LOG_FILE_PATH=./logs/bot.log

# Bot Screenshots
BOT_SCREENSHOT_ON_FAILURE=true
BOT_SCREENSHOT_ON_SUCCESS=false
BOT_FULL_PAGE_SCREENSHOT=true

# Bot Output
BOT_OUTPUT_DIR=./bot-output
BOT_REPORT_FORMATS=json,html
BOT_REPORTING=true
BOT_SAVE_TRACES=true
BOT_GENERATE_DYNAMIC=false

# Bot Test Data
BOT_USE_SEEDED_DATA=true

# Playwright Configuration
HEADLESS=true
SLOW_MO=0
VIEWPORT_WIDTH=1920
VIEWPORT_HEIGHT=1080

# ============================================
# üîÄ AGENT ORCHESTRATION (ADVANCED)
# ============================================

# Multi-Agent System Configuration
AGENT_ORCHESTRATION_ENABLED=false
AGENT_COLLABORATION_MODE=sequential
AGENT_CONSENSUS_THRESHOLD=0.75
ORCHESTRATOR_API_KEY=

# Bridge Configuration (Inter-system Communication)
BRIDGE_ENABLED=false
BRIDGE_WEBHOOK_URL=

# ============================================
# üì¢ NOTIFICATIONS & ALERTS
# ============================================

# Slack Integration
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#alerts

# Discord Integration
DISCORD_WEBHOOK_URL=
DISCORD_AVATAR_URL=

# Notification Triggers
NOTIFY_ON_FAILURE=true
NOTIFY_ON_REMEDIATION=true

# ============================================
# üîí SECURITY SETTINGS
# ============================================

# CORS Allowed Origins (comma-separated)
# Production: Restrict to your domains
# Development: Can use * for convenience
ALLOWED_ORIGINS=*
CORS_ALLOWED_ORIGINS=*

# Content Security Policy
CSP_REPORT_URI=

# ============================================
# üöÄ DEPLOYMENT CONFIGURATION
# ============================================

# Vercel Environment Detection
VERCEL=
VERCEL_ENV=
VERCEL_URL=

# ============================================
# üìä ENVIRONMENT VARIABLE CHECKLIST
# ============================================
#
# ‚úÖ REQUIRED FOR BASIC OPERATION:
#    - NODE_ENV
#    - NEXT_PUBLIC_APP_URL
#    - DATABASE_URL
#    - NEXTAUTH_URL
#    - NEXTAUTH_SECRET
#
# ‚≠ê RECOMMENDED FOR PRODUCTION:
#    - REDIS_URL (performance)
#    - SENTRY_DSN (error tracking)
#    - SENDGRID_API_KEY (email notifications)
#    - CLOUDINARY_* (image uploads)
#
# üí≥ REQUIRED FOR PAYMENTS:
#    - STRIPE_SECRET_KEY
#    - STRIPE_PUBLISHABLE_KEY
#    - STRIPE_WEBHOOK_SECRET
#
# üîç OPTIONAL FEATURES:
#    - OPENAI_API_KEY (AI features)
#    - GOOGLE_MAPS_API_KEY (maps)
#    - TWILIO_* (SMS notifications)
#    - FIREBASE_* (push notifications)
#
# ============================================
# üìñ DOCUMENTATION LINKS
# ============================================
#
# Setup Guide: docs/deployment/ENV-SETUP-GUIDE.md
# Security Best Practices: docs/security/SECURITY.md
# API Keys Guide: docs/deployment/API-KEYS.md
# Deployment Guide: docs/deployment/DEPLOYMENT.md
#
# ============================================

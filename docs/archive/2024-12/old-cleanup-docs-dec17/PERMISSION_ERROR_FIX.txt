ðŸš¨ PERMISSION ERROR - Quick Fix Guide
=====================================

You're seeing: /?error=insufficient_permissions

CAUSE: User's role in database might be missing or JWT token is old

QUICK FIX (3 steps):
--------------------

1. Check Your Role:
   - Open browser console (F12)
   - Run: fetch('/api/auth/session').then(r=>r.json()).then(console.log)
   - Look for "role": "CONSUMER"

2. If role is missing:
   a) Open database: npm run prisma:studio
   b) Go to User table
   c) Find your user
   d) Set role = CONSUMER
   e) Save

3. Clear session & re-login:
   a) Visit: http://localhost:3001/api/auth/signout
   b) Clear cookies (F12 â†’ Application â†’ Cookies â†’ Delete all)
   c) Login again at /login
   d) Should redirect to /dashboard âœ…

DETAILED GUIDE:
---------------
See: DEBUG_PERMISSIONS.md

CHANGES MADE:
-------------
âœ… Improved error messages
âœ… Better redirect logic
âœ… User-friendly error banners
âœ… Role-based error redirects

Try the quick fix above first!

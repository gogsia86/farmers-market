# ============================================================================
# HP OMEN ULTIMATE OPTIMIZATION - ENVIRONMENT VARIABLES
# ============================================================================
# System: 64GB RAM, 12 CPU Threads, RTX 2070 Max-Q 8GB
# Target: Maximum performance and resource utilization
# Copy to .env.local and customize for your environment
# ============================================================================

# ============================================================================
# NODE.JS OPTIMIZATION (64GB RAM)
# ============================================================================

# Maximum old space size (32GB for builds, 16GB for dev)
# Adjust based on operation:
# - Development: 16384 (16GB)
# - Production Build: 32768 (32GB)
# - Testing: 8192 (8GB)
NODE_OPTIONS=--max-old-space-size=32768 --max-semi-space-size=512 --expose-gc

# V8 garbage collection optimization
NODE_ENV=development

# Worker threads (use 10 of 12 threads, leave 2 for OS)
UV_THREADPOOL_SIZE=10

# ============================================================================
# HP OMEN PERFORMANCE FLAGS
# ============================================================================

HP_OMEN_OPTIMIZATION=ultimate
HP_OMEN_RAM_GB=64
HP_OMEN_CPU_THREADS=12
HP_OMEN_GPU=RTX_2070_MAX_Q
HP_OMEN_VRAM_GB=8
HP_OMEN_PARALLEL_BUILDS=true

# ============================================================================
# NEXT.JS CONFIGURATION
# ============================================================================

NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# Telemetry (disable for performance)
NEXT_TELEMETRY_DISABLED=1

# Build optimization
NEXT_BUILD_WORKERS=10

# ============================================================================
# DATABASE (PostgreSQL with High Memory)
# ============================================================================

# PostgreSQL connection
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/farmers_market?schema=public
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/farmers_market?schema=public

# PostgreSQL optimization (8GB allocated)
# Recommended settings for postgresql.conf:
# shared_buffers = 2GB
# effective_cache_size = 6GB
# maintenance_work_mem = 512MB
# work_mem = 64MB
# max_connections = 200

# ============================================================================
# REDIS CACHE (4GB Allocated)
# ============================================================================

REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=quantum_cache_password
REDIS_KEY_PREFIX=fm:
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# Redis optimization
# maxmemory 4gb
# maxmemory-policy allkeys-lru
# save "" (disable persistence for speed)

# ============================================================================
# AUTHENTICATION (NextAuth v5)
# ============================================================================

NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=change-this-to-a-random-secret-min-32-characters-for-production

# Session configuration
NEXTAUTH_SESSION_MAXAGE=2592000

# ============================================================================
# STRIPE PAYMENT
# ============================================================================

NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_SECRET_KEY=sk_test_your_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================================================
# EMAIL (SMTP Configuration)
# ============================================================================

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@farmersmarket.app

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# OpenTelemetry
ENABLE_TRACING=true
OTEL_SERVICE_NAME=farmers-market-dev
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Application Insights (Azure)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# ============================================================================
# AI SERVICES (Optional)
# ============================================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION=org-your-org-id

# Perplexity AI
PERPLEXITY_API_KEY=pplx-your-api-key-here
PERPLEXITY_DEFAULT_MODEL=SONAR_PRO

# ============================================================================
# GEOCODING SERVICE
# ============================================================================

# Google Maps (Optional - free Nominatim used by default)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key-here

# Nominatim (Free, no API key required)
NOMINATIM_USER_AGENT=FarmersMarketPlatform/1.0

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================

# Agricultural consciousness
AGRICULTURAL_CONSCIOUSNESS=enabled
DIVINE_PATTERNS=active

# Cache settings
ENABLE_CACHE=true
CACHE_TTL=300

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# BUILD OPTIMIZATION
# ============================================================================

# Skip certain checks during Docker builds
DOCKER_BUILD=false
SKIP_ENV_VALIDATION=false

# Analyze bundle size
ANALYZE=false

# Source maps
GENERATE_SOURCEMAP=false

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================

# Prisma
PRISMA_HIDE_UPDATE_MESSAGE=true

# TypeScript
TS_NODE_TRANSPILE_ONLY=true

# Jest
JEST_WORKERS=10

# Playwright
PLAYWRIGHT_WORKERS=10

# ============================================================================
# DOCKER OPTIMIZATION (32GB Allocated)
# ============================================================================

# Docker memory limits
DOCKER_MEMORY_LIMIT=32g
DOCKER_CPU_COUNT=10

# Docker build optimization
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
BUILDKIT_PROGRESS=plain

# ============================================================================
# WEBPACK/TURBOPACK OPTIMIZATION
# ============================================================================

# Parallel builds
WEBPACK_PARALLELISM=12

# Memory optimization
WEBPACK_MEMORY_LIMIT=16384

# Cache
WEBPACK_CACHE=memory

# ============================================================================
# TESTING OPTIMIZATION
# ============================================================================

# Jest configuration
JEST_MAX_WORKERS=10
JEST_WORKER_IDLE_MEMORY_LIMIT=2048

# Playwright configuration
PLAYWRIGHT_MAX_WORKERS=10
PLAYWRIGHT_TIMEOUT=30000

# ============================================================================
# LOGGING
# ============================================================================

# Log level
LOG_LEVEL=info

# Debug namespaces (disable in production)
DEBUG=

# Console output
FORCE_COLOR=1

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
ENABLE_NOTIFICATIONS=true
ENABLE_REVIEWS=true
ENABLE_MESSAGING=true
ENABLE_ANALYTICS=true

# Beta features
ENABLE_BETA_FEATURES=false

# ============================================================================
# SECURITY
# ============================================================================

# CORS origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3000

# API keys rotation
API_KEY_ROTATION_DAYS=90

# Session security
SESSION_SECURE_COOKIE=false

# ============================================================================
# AGRICULTURAL FEATURES
# ============================================================================

# Seasonal adjustments
ENABLE_SEASONAL_CACHE=true

# Biodynamic features
ENABLE_BIODYNAMIC_PATTERNS=true

# Farm verification
AUTO_APPROVE_FARMS=false

# ============================================================================
# PERFORMANCE MONITORING
# ============================================================================

# Enable performance tracking
TRACK_PERFORMANCE=true

# Memory monitoring
MONITOR_MEMORY=true

# CPU monitoring
MONITOR_CPU=true

# GPU monitoring (NVIDIA)
MONITOR_GPU=false

# ============================================================================
# ADVANCED OPTIMIZATION
# ============================================================================

# Garbage collection
ENABLE_MANUAL_GC=true
GC_INTERVAL=300000

# Memory leaks detection
DETECT_MEMORY_LEAKS=false

# Profiling
ENABLE_PROFILING=false
PROFILING_SAMPLE_RATE=0.01

# ============================================================================
# NOTES
# ============================================================================

# Memory Allocation Strategy (64GB Total):
# - Next.js Dev/Build: 16-32GB
# - PostgreSQL: 8GB
# - Redis: 4GB
# - Docker: 32GB total
# - OS/IDE/Other: 16GB
# - Reserve: 4-8GB

# CPU Thread Allocation (12 Total):
# - Next.js/Webpack: 10 threads
# - Jest Tests: 10 workers
# - Playwright: 10 workers
# - Reserve: 2 threads for OS/IDE

# GPU Utilization (RTX 2070 Max-Q 8GB):
# - VS Code: GPU acceleration ON
# - Chrome DevTools: GPU acceleration ON
# - TensorFlow.js: WebGL backend
# - Image processing: Hardware acceleration

# ============================================================================
# END OF HP OMEN OPTIMIZATION CONFIGURATION
# ============================================================================

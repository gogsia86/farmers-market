# ============================================================================
# ðŸ”§ ORCHESTRATOR & AUTO-REMEDIATION ENVIRONMENT CONFIGURATION
# Farmers Market Platform - Divine Agricultural Intelligence
# ============================================================================
#
# Copy this file to .env.local and fill in your values
# DO NOT commit .env.local to version control!
#
# ============================================================================

# ============================================================================
# OPENAI API (Required for AI-powered analysis)
# ============================================================================

# Your OpenAI API key for AI agent orchestration
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================================================
# API AUTHENTICATION
# ============================================================================

# Admin API key for full system access
# Generate a secure key: openssl rand -hex 32, then prefix with fmp_
ADMIN_API_KEY=fmp_your-admin-api-key-here

# Orchestrator service API key for internal services
# Generate a secure key: openssl rand -hex 32, then prefix with fmp_
ORCHESTRATOR_API_KEY=fmp_your-orchestrator-api-key-here

# ============================================================================
# AUTO-REMEDIATION SETTINGS
# ============================================================================

# Enable/disable the auto-remediation system (true/false)
AUTO_REMEDIATION_ENABLED=true

# Enable/disable auto-approval of low-risk actions (true/false)
AUTO_APPROVE_ENABLED=true

# Confidence threshold for auto-approval (0-100)
# Actions with AI confidence above this threshold may be auto-approved
AUTO_APPROVE_THRESHOLD=85

# ============================================================================
# ORCHESTRATOR BRIDGE SETTINGS
# ============================================================================

# Enable/disable the orchestrator bridge (true/false)
BRIDGE_ENABLED=true

# Enable/disable automatic analysis on failures (true/false)
AUTO_ANALYZE=true

# Enable/disable automatic remediation (true/false)
AUTO_REMEDIATE=true

# Send notifications on workflow failures (true/false)
NOTIFY_ON_FAILURE=true

# Send notifications on remediation (true/false)
NOTIFY_ON_REMEDIATION=true

# ============================================================================
# NOTIFICATION WEBHOOKS (Optional)
# ============================================================================

# Generic webhook URL for notifications
# BRIDGE_WEBHOOK_URL=https://your-webhook-endpoint.com/webhook

# Slack webhook URL for notifications
# Get yours at: https://api.slack.com/messaging/webhooks
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Server port (default: 3001)
PORT=3001

# Node environment
NODE_ENV=development

# ============================================================================
# DATABASE (Required - copy from your main .env)
# ============================================================================

# PostgreSQL connection string
# DATABASE_URL=postgresql://user:password@localhost:5432/farmersmarket

# ============================================================================
# AUTHENTICATION (Required for session-based auth)
# ============================================================================

# NextAuth secret - generate with: openssl rand -base64 32
# NEXTAUTH_SECRET=your-nextauth-secret-here

# NextAuth URL
# NEXTAUTH_URL=http://localhost:3001

# ============================================================================
# NOTES
# ============================================================================
#
# Security Best Practices:
# 1. Never commit API keys to version control
# 2. Use different keys for development, staging, and production
# 3. Rotate keys regularly, especially after team member changes
# 4. Set appropriate rate limits for API keys
# 5. Monitor API key usage for suspicious activity
#
# API Key Scopes:
# - admin:full                 - Full system access
# - orchestrator:read          - Read orchestrator status
# - orchestrator:write         - Trigger analyses
# - orchestrator:execute       - Execute remediation
# - remediation:read           - View remediation plans
# - remediation:write          - Create remediation plans
# - remediation:execute        - Execute remediation actions
# - monitoring:read            - Read monitoring data
# - monitoring:write           - Configure monitoring
#
# For more information, see:
# - src/lib/auth/api-auth.ts
# - src/lib/monitoring/healing/auto-remediation-system.ts
# - src/lib/monitoring/integration/orchestrator-bridge.ts
#
# ============================================================================

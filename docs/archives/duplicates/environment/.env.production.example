# ============================================================================
# FARMERS MARKET PLATFORM - PRODUCTION ENVIRONMENT VARIABLES
# Copy this file to .env.production and fill in your actual values
# ============================================================================

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=production
PORT=3000
APP_PORT=3000

# Public URLs (REQUIRED - Replace with your actual domain)
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_API_URL=https://yourdomain.com/api

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL with PostGIS)
# ============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-database-password-here
POSTGRES_DB=farmersmarket
POSTGRES_PORT=5432

# Prisma Database URLs (REQUIRED)
DATABASE_URL=postgresql://postgres:your-secure-database-password-here@db:5432/farmersmarket
DIRECT_URL=postgresql://postgres:your-secure-database-password-here@db:5432/farmersmarket

# ============================================================================
# REDIS CACHE CONFIGURATION
# ============================================================================
REDIS_PASSWORD=your-secure-redis-password-here
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://:your-secure-redis-password-here@redis:6379
REDIS_MAX_MEMORY=2gb

# ============================================================================
# AUTHENTICATION (NextAuth v5)
# ============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_URL=https://yourdomain.com
NEXTAUTH_SECRET=your-nextauth-secret-minimum-32-characters-long-random-string
AUTH_TRUST_HOST=true

# ============================================================================
# OAUTH PROVIDERS (Optional - Configure as needed)
# ============================================================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# STRIPE PAYMENT INTEGRATION (REQUIRED for payments)
# ============================================================================
# Get from: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key
STRIPE_SECRET_KEY=sk_live_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================================================
# EMAIL CONFIGURATION (SMTP)
# ============================================================================
# Gmail Example (Enable "Less secure app access" or use App Password)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password-or-app-password
SMTP_FROM=noreply@yourdomain.com

# SendGrid Example
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=your-sendgrid-api-key

# AWS SES Example
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USER=your-ses-smtp-username
# SMTP_PASSWORD=your-ses-smtp-password

# ============================================================================
# AI SERVICES (Optional - Feature disabled if not provided)
# ============================================================================
ENABLE_AI_FEATURES=false

# OpenAI API (GPT-4, GPT-3.5-turbo)
OPENAI_API_KEY=sk-your-openai-api-key

# Perplexity AI API
PERPLEXITY_API_KEY=pplx-your-perplexity-api-key
PERPLEXITY_DEFAULT_MODEL=SONAR_PRO

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Sentry Error Tracking (Recommended)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.1

# OpenTelemetry Tracing
ENABLE_TRACING=false
OTEL_EXPORTER_OTLP_ENDPOINT=https://your-otlp-endpoint

# Azure Application Insights (Optional)
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key;IngestionEndpoint=your-endpoint

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================
UPLOAD_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# AWS S3 for File Storage (Optional - for production scale)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=your-bucket-name
AWS_S3_DOMAIN=your-cloudfront-domain.cloudfront.net

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ANALYTICS=true
ENABLE_SPEED_INSIGHTS=true
ENABLE_EXPERIMENTAL_FEATURES=false

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_SCHEDULE=@daily
BACKUP_KEEP_DAYS=7
BACKUP_KEEP_WEEKS=4
BACKUP_KEEP_MONTHS=6

# ============================================================================
# REDIS UI MANAGEMENT (Optional - Disable in production)
# ============================================================================
REDIS_UI_USER=admin
REDIS_UI_PASSWORD=change-this-password
REDIS_UI_PORT=8081

# ============================================================================
# ADMINER DATABASE UI (Optional - Disable in production)
# ============================================================================
ADMINER_PORT=8082

# ============================================================================
# SECURITY HEADERS
# ============================================================================
SECURITY_HEADERS_ENABLED=true
CSP_REPORT_URI=https://yourdomain.com/api/csp-report

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# ============================================================================
# SESSION CONFIGURATION
# ============================================================================
SESSION_MAX_AGE=2592000
SESSION_UPDATE_AGE=86400

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# DEPLOYMENT PLATFORM (Optional)
# ============================================================================
# Vercel
# VERCEL_URL=auto-filled-by-vercel
# VERCEL_ENV=production

# AWS ECS/Fargate
# ECS_CLUSTER=your-cluster-name
# ECS_SERVICE=your-service-name

# Azure App Service
# WEBSITE_SITE_NAME=your-app-name

# ============================================================================
# MAINTENANCE MODE
# ============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="We're currently performing scheduled maintenance. Please check back soon."

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit this file with real secrets to version control
# 2. Use strong, unique passwords for all services
# 3. Rotate secrets regularly (every 90 days recommended)
# 4. Use environment-specific secrets management (AWS Secrets Manager, Azure Key Vault, etc.)
# 5. Enable 2FA on all service accounts
# 6. Review and update CORS origins before deployment
# 7. Test all integrations in staging environment first
# 8. Monitor logs and metrics after deployment
# 9. Set up automated backups for database
# 10. Configure SSL certificates for HTTPS
# ============================================================================

{
  "profileConfigurations": {
    "farmersMarketOptimized": {
      "name": "Farmers Market - Optimized Profile",
      "description": "Optimized profiling configuration for Farmers Market Quantum Agricultural Platform",
      "version": "1.1",
      "settings": {
        "target": {
          "application": "npm",
          "arguments": ["test", "--", "--passWithNoTests", "--maxWorkers=4", "--logHeapUsage", "--detectLeaks"],
          "workingDirectory": "V:\\Projects\\Farmers-Market\\farmers-market",
          "environment": {
            "NODE_ENV": "test",
            "NODE_OPTIONS": "--max-old-space-size=4096",
            "NVTX_PROFILER_ENABLED": "1",
            "UV_THREADPOOL_SIZE": "8"
          }
        },
        "profiling": {
          "traces": {
            "cuda": false,
            "nvtx": true,
            "opengl": false,
            "vulkan": false,
            "dx11": false,
            "dx12": false,
            "wddm": false,
            "pythonGil": false
          },
          "sampling": {
            "cpu": {
              "enabled": true,
              "requiresAdmin": true,
              "frequency": 1000,
              "backtrace": "fp"
            }
          },
          "cpuContextSwitches": {
            "enabled": true,
            "requiresAdmin": true
          },
          "duration": 0,
          "delayStart": 0
        },
        "output": {
          "directory": "V:\\Projects\\Farmers-Market\\profiling_output",
          "filename": "farmers_market_test_suite",
          "forceOverwrite": true,
          "exportFormats": ["nsys-rep", "sqlite"]
        },
        "analysis": {
          "generateStatistics": true,
          "reports": ["cuda_api_sum", "osrt_sum", "nvtx_sum"],
          "exportFormat": "column"
        }
      },
      "optimizations": {
        "description": "Optimizations for JavaScript/TypeScript Next.js application profiling",
        "recommendations": [
          "Run as Administrator for CPU sampling",
          "Use --maxWorkers=4 for Jest to balance speed vs profiling detail",
          "Allocate 4GB heap for large test suite (2,000+ tests)",
          "Disable GPU traces (not applicable for Node.js applications)",
          "Focus on CPU hotspots and OS runtime metrics",
          "Look for long-running test files",
          "Analyze test setup/teardown overhead",
          "Identify memory allocation patterns"
        ]
      },
      "metrics": {
        "keyPerformanceIndicators": [
          {
            "name": "Total Test Time",
            "target": "< 60 seconds",
            "description": "Time to run all 2,000 tests",
            "alert": {
              "threshold": 90,
              "message": "Test suite execution exceeding 90 seconds"
            }
          },
          {
            "name": "Average Test Time",
            "target": "< 30ms per test",
            "description": "Average execution time per test",
            "alert": {
              "threshold": 50,
              "message": "Individual test execution exceeding 50ms"
            }
          },
          {
            "name": "Slowest Test File",
            "target": "Identify and optimize",
            "description": "Find test files taking > 5 seconds",
            "alert": {
              "threshold": 5000,
              "message": "Test file execution exceeding 5 seconds"
            }
          },
          {
            "name": "Memory Usage",
            "target": "< 2GB peak",
            "description": "Monitor heap allocation patterns",
            "alert": {
              "threshold": 2048,
              "unit": "MB",
              "message": "Memory usage exceeding 2GB"
            }
          },
          {
            "name": "CPU Utilization",
            "target": "> 80% during tests",
            "description": "Ensure efficient CPU usage",
            "alert": {
              "threshold": 70,
              "unit": "%",
              "message": "CPU utilization below 70%"
            }
          },
          {
            "name": "Test Throughput",
            "target": "> 50 tests/second",
            "description": "Number of tests completed per second",
            "alert": {
              "threshold": 30,
              "unit": "tests/s",
              "message": "Test throughput below 30 tests/second"
            }
          },
          {
            "name": "Worker Memory Usage",
            "target": "< 512MB per worker",
            "description": "Memory usage per Jest worker process",
            "alert": {
              "threshold": 512,
              "unit": "MB",
              "message": "Worker memory usage exceeding 512MB"
            }
          },
          {
            "name": "Context Switch Rate",
            "target": "< 1000/second per core",
            "description": "CPU context switches per second",
            "alert": {
              "threshold": 1000,
              "unit": "switches/s",
              "message": "High context switch rate detected"
            }
          }
        ]
      }
    },
    "farmersMarketDevServer": {
      "name": "Farmers Market - Dev Server Profile",
      "description": "Profile Next.js development server performance",
      "version": "1.0",
      "settings": {
        "target": {
          "application": "npm",
          "arguments": ["run", "dev"],
          "workingDirectory": "V:\\Projects\\Farmers-Market\\farmers-market",
          "environment": {
            "NODE_ENV": "development"
          }
        },
        "profiling": {
          "traces": {
            "cuda": false,
            "nvtx": true,
            "opengl": false,
            "vulkan": false
          },
          "sampling": {
            "cpu": {
              "enabled": true,
              "frequency": 1000
            }
          },
          "duration": 60,
          "delayStart": 5
        },
        "output": {
          "directory": "V:\\Projects\\Farmers-Market\\profiling_output",
          "filename": "farmers_market_dev_server"
        }
      },
      "metrics": {
        "keyPerformanceIndicators": [
          {
            "name": "Cold Start Time",
            "target": "< 5 seconds",
            "description": "Initial server startup time"
          },
          {
            "name": "Hot Reload Time",
            "target": "< 1 second",
            "description": "File change to browser update"
          },
          {
            "name": "API Response Time",
            "target": "< 100ms",
            "description": "Average API endpoint latency"
          }
        ]
      }
    },
    "farmersMarketBuild": {
      "name": "Farmers Market - Build Process Profile",
      "description": "Profile Next.js production build process",
      "version": "1.0",
      "settings": {
        "target": {
          "application": "npm",
          "arguments": ["run", "build"],
          "workingDirectory": "V:\\Projects\\Farmers-Market\\farmers-market",
          "environment": {
            "NODE_ENV": "production"
          }
        },
        "profiling": {
          "traces": {
            "cuda": false,
            "nvtx": true,
            "opengl": false
          },
          "sampling": {
            "cpu": {
              "enabled": true,
              "frequency": 1000
            }
          },
          "duration": 0
        },
        "output": {
          "directory": "V:\\Projects\\Farmers-Market\\profiling_output",
          "filename": "farmers_market_build"
        }
      },
      "metrics": {
        "keyPerformanceIndicators": [
          {
            "name": "Total Build Time",
            "target": "< 2 minutes",
            "description": "Complete production build duration"
          },
          {
            "name": "TypeScript Compilation",
            "target": "< 30 seconds",
            "description": "Type checking duration"
          },
          {
            "name": "Bundle Size",
            "target": "< 1MB per page",
            "description": "JavaScript bundle size"
          }
        ]
      }
    }
  },
  "quickStartCommands": {
    "testSuite": {
      "description": "Profile complete test suite (2,000 tests)",
      "command": ".\\Start-OptimizedProfiling.ps1 -Profile test",
      "requiresAdmin": false,
      "estimatedTime": "1-2 minutes"
    },
    "devServer": {
      "description": "Profile development server (60 seconds)",
      "command": ".\\Start-OptimizedProfiling.ps1 -Profile dev -Duration 60",
      "requiresAdmin": false,
      "estimatedTime": "60 seconds"
    },
    "build": {
      "description": "Profile production build process",
      "command": ".\\Start-OptimizedProfiling.ps1 -Profile build",
      "requiresAdmin": false,
      "estimatedTime": "2-3 minutes"
    },
    "quick": {
      "description": "Quick 15-second diagnostic",
      "command": ".\\Start-OptimizedProfiling.ps1 -Profile quick",
      "requiresAdmin": false,
      "estimatedTime": "15 seconds"
    }
  },
  "analysisGuide": {
    "views": {
      "timeline": {
        "name": "Timeline View",
        "description": "Main visualization of all events over time",
        "lookFor": [
          "Long-running operations (> 100ms)",
          "Idle periods (CPU not utilized)",
          "Blocking I/O operations",
          "Thread synchronization issues"
        ]
      },
      "functions": {
        "name": "Functions View",
        "description": "CPU hotspot analysis",
        "lookFor": [
          "Functions with highest total time",
          "Functions called most frequently",
          "Recursive function overhead",
          "Optimization opportunities"
        ]
      },
      "processes": {
        "name": "Processes & Threads",
        "description": "Multi-process/thread activity",
        "lookFor": [
          "Jest worker processes",
          "Thread utilization patterns",
          "Inter-process communication",
          "Worker idle time"
        ]
      }
    },
    "optimizationPriorities": [
      {
        "priority": 1,
        "area": "Test Suite Performance",
        "actions": [
          "Identify slowest test files (> 5s)",
          "Reduce test setup/teardown overhead",
          "Optimize mock implementations",
          "Consider test parallelization tuning"
        ]
      },
      {
        "priority": 2,
        "area": "Memory Usage",
        "actions": [
          "Check for memory leaks in tests",
          "Optimize large object allocations",
          "Review mock data size",
          "Monitor heap usage patterns"
        ]
      },
      {
        "priority": 3,
        "area": "I/O Operations",
        "actions": [
          "Reduce file system operations",
          "Cache static data",
          "Optimize database queries",
          "Review network mock overhead"
        ]
      }
    ]
  },
  "troubleshooting": {
    "commonIssues": [
      {
        "issue": "CPU sampling disabled warning",
        "cause": "Requires administrative privileges",
        "solution": "Run PowerShell as Administrator or profile without CPU sampling"
      },
      {
        "issue": "Profile file not created",
        "cause": "Command failed or disk space insufficient",
        "solution": "Check console output for errors, ensure disk space available"
      },
      {
        "issue": "Out of memory during profiling",
        "cause": "Large test suite with insufficient heap",
        "solution": "Increase NODE_OPTIONS --max-old-space-size=4096 or profile in smaller batches"
      },
      {
        "issue": "Profiling takes too long",
        "cause": "Full test suite is large (2,000 tests)",
        "solution": "Use --testPathPattern to profile specific test files or reduce --maxWorkers"
      }
    ]
  },
  "metadata": {
    "project": "Farmers Market Quantum Agricultural Platform",
    "achievement": "NONUPLE PERFECT - 2,000 passing tests",
    "created": "2025-10-17",
    "version": "1.0.0",
    "author": "Quantum Agricultural AI System",
    "purpose": "Optimized NVIDIA Nsight Systems profiling configuration for JavaScript/TypeScript Next.js application"
  }
}

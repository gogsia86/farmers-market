39d0f402d7bc761d3adea4a779fb678f
"use strict";
/**
 * ðŸ§¬ DIVINE TEST SUITE: Component Consciousness Hook
 * ðŸ“š Reference: 05_TESTING_SECURITY_DIVINITY.instructions.md
 * ðŸŒ¾ Domain: Performance Tracking & Analytics
 *
 * Tests for type-safe performance monitoring and analytics tracking
 */
Object.defineProperty(exports, "__esModule", { value: true });
const globals_1 = require("@jest/globals");
const react_1 = require("@testing-library/react");
const useComponentConsciousness_1 = require("../useComponentConsciousness");
(0, globals_1.describe)("useComponentConsciousness Hook", () => {
    (0, globals_1.beforeEach)(() => {
        // Clear any existing global trackers
        delete globalThis.__DIVINE_PERFORMANCE__;
        delete globalThis.__DIVINE_ANALYTICS__;
        globals_1.jest.clearAllMocks();
    });
    (0, globals_1.afterEach)(() => {
        globals_1.jest.restoreAllMocks();
    });
    (0, globals_1.describe)("Basic Initialization", () => {
        (0, globals_1.it)("should initialize with component name", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            (0, globals_1.expect)(result.current).toBeDefined();
            (0, globals_1.expect)(result.current.startMeasurement).toBeDefined();
            (0, globals_1.expect)(result.current.trackEvent).toBeDefined();
            (0, globals_1.expect)(result.current.getMetrics).toBeDefined();
        });
        (0, globals_1.it)("should return consistent consciousness object", () => {
            const { result, rerender } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const firstRef = result.current;
            // Re-render
            rerender();
            // Should have same structure (memoized)
            (0, globals_1.expect)(result.current).toStrictEqual(firstRef);
        });
        (0, globals_1.it)("should accept optional context", () => {
            const context = { variant: "agricultural", size: "large" };
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("FarmCard", context));
            (0, globals_1.expect)(result.current).toBeDefined();
        });
    });
    (0, globals_1.describe)("Metrics Tracking", () => {
        (0, globals_1.it)("should initialize metrics with zero values", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.componentName).toBe("TestComponent");
            (0, globals_1.expect)(metrics.renderCount).toBeGreaterThanOrEqual(0);
            (0, globals_1.expect)(metrics.errorCount).toBe(0);
            (0, globals_1.expect)(metrics.eventCount).toBe(0);
        });
        (0, globals_1.it)("should track render count", async () => {
            const { result, rerender } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const initialRenderCount = result.current.getMetrics().renderCount;
            // Force re-renders
            rerender();
            rerender();
            await (0, react_1.act)(async () => {
                await new Promise((resolve) => setTimeout(resolve, 10));
            });
            const finalRenderCount = result.current.getMetrics().renderCount;
            (0, globals_1.expect)(finalRenderCount).toBeGreaterThan(initialRenderCount);
        });
        (0, globals_1.it)("should record render times", async () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                await new Promise((resolve) => setTimeout(resolve, 20));
            });
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.lastRenderTime).toBeGreaterThanOrEqual(0);
            (0, globals_1.expect)(metrics.averageRenderTime).toBeGreaterThanOrEqual(0);
        });
    });
    (0, globals_1.describe)("Performance Measurement", () => {
        (0, globals_1.it)("should start and complete measurement successfully", async () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("test_operation");
                // Simulate async operation
                await new Promise((resolve) => setTimeout(resolve, 50));
                measurement.success();
            });
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            (0, globals_1.expect)(metrics.length).toBeGreaterThan(0);
            const testMetric = metrics.find((m) => m.component === "TestComponent" && m.operation === "test_operation");
            (0, globals_1.expect)(testMetric).toBeDefined();
            (0, globals_1.expect)(testMetric.success).toBe(true);
            (0, globals_1.expect)(testMetric.duration).toBeGreaterThan(0);
        });
        (0, globals_1.it)("should handle measurement failure with Error object", async () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const testError = new Error("Test error message");
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("failing_operation");
                measurement.failure(testError);
            });
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            const failureMetric = metrics.find((m) => m.component === "TestComponent" && m.operation === "failing_operation");
            (0, globals_1.expect)(failureMetric).toBeDefined();
            (0, globals_1.expect)(failureMetric.success).toBe(false);
            (0, globals_1.expect)(failureMetric.error).toBe("Test error message");
        });
        (0, globals_1.it)("should handle measurement failure with string error", async () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("string_error_op");
                measurement.failure("String error message");
            });
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            const failureMetric = metrics.find((m) => m.operation === "string_error_op");
            (0, globals_1.expect)(failureMetric?.error).toBe("String error message");
        });
        (0, globals_1.it)("should handle measurement failure with unknown error type", async () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("unknown_error_op");
                measurement.failure({ custom: "error object" });
            });
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            const failureMetric = metrics.find((m) => m.operation === "unknown_error_op");
            (0, globals_1.expect)(failureMetric?.error).toBeDefined();
        });
        (0, globals_1.it)("should increment error count on failure", async () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const initialErrorCount = result.current.getMetrics().errorCount;
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("error_op");
                measurement.failure(new Error("test"));
            });
            const finalErrorCount = result.current.getMetrics().errorCount;
            (0, globals_1.expect)(finalErrorCount).toBe(initialErrorCount + 1);
        });
    });
    (0, globals_1.describe)("Event Tracking", () => {
        (0, globals_1.it)("should track custom events", async () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const initialEventCount = result.current.getMetrics().eventCount;
            await (0, react_1.act)(async () => {
                result.current.trackEvent("user_interaction", { action: "click" });
            });
            const finalEventCount = result.current.getMetrics().eventCount;
            (0, globals_1.expect)(finalEventCount).toBe(initialEventCount + 1);
        });
        (0, globals_1.it)("should provide component metrics", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent", { variant: "test" }));
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.componentName).toBe("TestComponent");
            (0, globals_1.expect)(metrics).toHaveProperty("renderCount");
            (0, globals_1.expect)(metrics).toHaveProperty("errorCount");
            (0, globals_1.expect)(metrics).toHaveProperty("eventCount");
        });
        (0, globals_1.it)("should work without global tracker initialized", async () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("no_tracker_op");
                measurement.success();
            });
            // Should not throw, just not record globally
            (0, globals_1.expect)(result.current.getMetrics()).toBeDefined();
        });
        (0, globals_1.it)("should track events without metadata", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("ButtonComponent"));
            (0, react_1.act)(() => {
                result.current.trackEvent("click");
            });
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.eventCount).toBe(1);
        });
        (0, globals_1.it)("should track events with metadata", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("FormComponent"));
            (0, react_1.act)(() => {
                result.current.trackEvent("submit", { formId: "contact-form" });
            });
            const metrics1 = result.current.getMetrics();
            (0, globals_1.expect)(metrics1.eventCount).toBe(1);
            (0, react_1.act)(() => {
                result.current.trackEvent("submit", {
                    formId: "contact-form",
                    fieldCount: 5,
                });
            });
            const metrics2 = result.current.getMetrics();
            (0, globals_1.expect)(metrics2.eventCount).toBe(2);
        });
        (0, globals_1.it)("should track multiple events", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            (0, react_1.act)(() => {
                result.current.trackEvent("event1");
                result.current.trackEvent("event2");
                result.current.trackEvent("event3");
            });
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.eventCount).toBe(3);
        });
        (0, globals_1.it)("should send events to analytics tracker if available", () => {
            const mockAnalyticsTrack = globals_1.jest.fn();
            globalThis.__DIVINE_ANALYTICS__ = {
                track: mockAnalyticsTrack,
            };
            const context = { variant: "primary" };
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent", context));
            const metadata = { buttonId: "submit" };
            (0, react_1.act)(() => {
                result.current.trackEvent("button_click", metadata);
            });
            (0, globals_1.expect)(mockAnalyticsTrack).toHaveBeenCalledWith({
                component: "TestComponent",
                event: "button_click",
                metadata,
                context,
                timestamp: globals_1.expect.any(Number),
            });
        });
        (0, globals_1.it)("should work without analytics tracker", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            (0, globals_1.expect)(() => {
                (0, react_1.act)(() => {
                    result.current.trackEvent("click");
                });
            }).not.toThrow();
        });
    });
    (0, globals_1.describe)("Global Performance Tracking Initialization", () => {
        (0, globals_1.it)("should initialize global trackers", () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.recordMetric).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.getMetrics).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.getComponentMetrics).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.clearMetrics).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_ANALYTICS__).toBeDefined();
            (0, globals_1.expect)(globalThis.__DIVINE_ANALYTICS__.track).toBeDefined();
        });
        (0, globals_1.it)("should record metrics globally", () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const metric = {
                component: "TestComponent",
                operation: "test_op",
                duration: 123,
                success: true,
                timestamp: Date.now(),
            };
            globalThis.__DIVINE_PERFORMANCE__.recordMetric(metric);
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            (0, globals_1.expect)(metrics).toContainEqual(metric);
        });
        (0, globals_1.it)("should get component-specific metrics", () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const metric1 = {
                component: "ComponentA",
                operation: "op1",
                duration: 100,
                success: true,
                timestamp: Date.now(),
            };
            const metric2 = {
                component: "ComponentB",
                operation: "op2",
                duration: 200,
                success: true,
                timestamp: Date.now(),
            };
            globalThis.__DIVINE_PERFORMANCE__.recordMetric(metric1);
            globalThis.__DIVINE_PERFORMANCE__.recordMetric(metric2);
            const componentAMetrics = globalThis.__DIVINE_PERFORMANCE__.getComponentMetrics("ComponentA");
            (0, globals_1.expect)(componentAMetrics.length).toBe(1);
            (0, globals_1.expect)(componentAMetrics[0].component).toBe("ComponentA");
        });
        (0, globals_1.it)("should clear metrics", () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const metric = {
                component: "TestComponent",
                operation: "test_op",
                duration: 123,
                success: true,
                timestamp: Date.now(),
            };
            globalThis.__DIVINE_PERFORMANCE__.recordMetric(metric);
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.getMetrics().length).toBeGreaterThan(0);
            globalThis.__DIVINE_PERFORMANCE__.clearMetrics();
            (0, globals_1.expect)(globalThis.__DIVINE_PERFORMANCE__.getMetrics().length).toBe(0);
        });
        (0, globals_1.it)("should limit metrics to 1000 entries", () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            // Add 1100 metrics
            for (let i = 0; i < 1100; i++) {
                globalThis.__DIVINE_PERFORMANCE__.recordMetric({
                    component: "TestComponent",
                    operation: `op_${i}`,
                    duration: 100,
                    success: true,
                    timestamp: Date.now(),
                });
            }
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            (0, globals_1.expect)(metrics.length).toBeLessThanOrEqual(1000);
        });
    });
    (0, globals_1.describe)("Integration with React Lifecycle", () => {
        (0, globals_1.it)("should track component unmount", () => {
            const { result, unmount } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const metricsBeforeUnmount = result.current.getMetrics();
            (0, globals_1.expect)(metricsBeforeUnmount).toBeDefined();
            // Should not throw on unmount
            (0, globals_1.expect)(() => unmount()).not.toThrow();
        });
        (0, globals_1.it)("should handle multiple component instances", () => {
            const hook1 = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("Component1"));
            const hook2 = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("Component2"));
            (0, react_1.act)(() => {
                hook1.result.current.trackEvent("event1");
                hook2.result.current.trackEvent("event2");
            });
            (0, globals_1.expect)(hook1.result.current.getMetrics().componentName).toBe("Component1");
            (0, globals_1.expect)(hook2.result.current.getMetrics().componentName).toBe("Component2");
            (0, globals_1.expect)(hook1.result.current.getMetrics().eventCount).toBe(1);
            (0, globals_1.expect)(hook2.result.current.getMetrics().eventCount).toBe(1);
            hook1.unmount();
            hook2.unmount();
        });
    });
    (0, globals_1.describe)("TypeScript Type Safety", () => {
        (0, globals_1.it)("should have properly typed return object", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const consciousness = result.current;
            (0, globals_1.expect)(typeof consciousness.startMeasurement).toBe("function");
            (0, globals_1.expect)(typeof consciousness.trackEvent).toBe("function");
            (0, globals_1.expect)(typeof consciousness.getMetrics).toBe("function");
        });
        (0, globals_1.it)("should have properly typed metrics", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(typeof metrics.componentName).toBe("string");
            (0, globals_1.expect)(typeof metrics.renderCount).toBe("number");
            (0, globals_1.expect)(typeof metrics.lastRenderTime).toBe("number");
            (0, globals_1.expect)(typeof metrics.averageRenderTime).toBe("number");
            (0, globals_1.expect)(typeof metrics.errorCount).toBe("number");
            (0, globals_1.expect)(typeof metrics.eventCount).toBe("number");
        });
    });
    (0, globals_1.describe)("Edge Cases", () => {
        (0, globals_1.it)("should handle empty component name", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)(""));
            (0, globals_1.expect)(result.current.getMetrics().componentName).toBe("");
        });
        (0, globals_1.it)("should handle very long component names", () => {
            const longName = "A".repeat(1000);
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)(longName));
            (0, globals_1.expect)(result.current.getMetrics().componentName).toBe(longName);
        });
        (0, globals_1.it)("should handle special characters in component name", () => {
            const specialName = "Test-Component_123@#$";
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)(specialName));
            (0, globals_1.expect)(result.current.getMetrics().componentName).toBe(specialName);
        });
        (0, globals_1.it)("should handle rapid-fire events", () => {
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            (0, react_1.act)(() => {
                for (let i = 0; i < 100; i++) {
                    result.current.trackEvent(`event_${i}`);
                }
            });
            const metrics = result.current.getMetrics();
            (0, globals_1.expect)(metrics.eventCount).toBe(100);
        });
        (0, globals_1.it)("should handle measurements with zero duration", async () => {
            (0, useComponentConsciousness_1.initializeDivinePerformanceTracking)();
            const { result } = (0, react_1.renderHook)(() => (0, useComponentConsciousness_1.useComponentConsciousness)("TestComponent"));
            await (0, react_1.act)(async () => {
                const measurement = result.current.startMeasurement("instant_op");
                measurement.success(); // Immediate success
            });
            const metrics = globalThis.__DIVINE_PERFORMANCE__.getMetrics();
            const instantMetric = metrics.find((m) => m.operation === "instant_op");
            (0, globals_1.expect)(instantMetric).toBeDefined();
            (0, globals_1.expect)(instantMetric.duration).toBeGreaterThanOrEqual(0);
        });
    });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiTTpcXFJlcG9cXEZhcm1lcnMgTWFya2V0IFBsYXRmb3JtIHdlYiBhbmQgYXBwXFxzcmNcXGhvb2tzXFxfX3Rlc3RzX19cXHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MudGVzdC50cyIsIm1hcHBpbmdzIjoiO0FBQUE7Ozs7OztHQU1HOztBQUdILDJDQU91QjtBQUN2QixrREFBeUQ7QUFDekQsNEVBTXNDO0FBRXRDLElBQUEsa0JBQVEsRUFBQyxnQ0FBZ0MsRUFBRSxHQUFHLEVBQUU7SUFDOUMsSUFBQSxvQkFBVSxFQUFDLEdBQUcsRUFBRTtRQUNkLHFDQUFxQztRQUNyQyxPQUFRLFVBQWtCLENBQUMsc0JBQXNCLENBQUM7UUFDbEQsT0FBUSxVQUFrQixDQUFDLG9CQUFvQixDQUFDO1FBRWhELGNBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUN2QixDQUFDLENBQUMsQ0FBQztJQUVILElBQUEsbUJBQVMsRUFBQyxHQUFHLEVBQUU7UUFDYixjQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDekIsQ0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLGtCQUFRLEVBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO1FBQ3BDLElBQUEsWUFBRSxFQUFDLHVDQUF1QyxFQUFFLEdBQUcsRUFBRTtZQUMvQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBQSxrQkFBVSxFQUFDLEdBQUcsRUFBRSxDQUNqQyxJQUFBLHFEQUF5QixFQUFDLGVBQWUsQ0FBQyxDQUMzQyxDQUFDO1lBRUYsSUFBQSxnQkFBTSxFQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQyxJQUFBLGdCQUFNLEVBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ3RELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQ2hELElBQUEsZ0JBQU0sRUFBQyxNQUFNLENBQUMsT0FB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QSxxREFBeUIsRUFBQyxlQUFlLENBQUMsQ0FDM0MsQ0FBQztZQUVGLE1BQU0sSUFBQSxXQUFHLEVBQUMsS0FBSyxJQUFJLEVBQUU7Z0JBQ25CLE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQ2xFLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLG9CQUFvQjtZQUM3QyxDQUFDLENBQUMsQ0FBQztZQUVILE1BQU0sT0FBTyxHQUFJLFVBQWtCLENBQUMsc0JBQXNCLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDeEUsTUFBTSxhQUFhLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FDaEMsQ0FBQyxDQUEwQixFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxLQUFLLFlBQVksQ0FDN0QsQ0FBQztZQUVGLElBQUEsZ0JBQU0sRUFBQyxhQUFhLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNwQyxJQUFBLGdCQUFNLEVBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJNOlxcUmVwb1xcRmFybWVycyBNYXJrZXQgUGxhdGZvcm0gd2ViIGFuZCBhcHBcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog8J+nrCBESVZJTkUgVEVTVCBTVUlURTogQ29tcG9uZW50IENvbnNjaW91c25lc3MgSG9va1xuICog8J+TmiBSZWZlcmVuY2U6IDA1X1RFU1RJTkdfU0VDVVJJVFlfRElWSU5JVFkuaW5zdHJ1Y3Rpb25zLm1kXG4gKiDwn4y+IERvbWFpbjogUGVyZm9ybWFuY2UgVHJhY2tpbmcgJiBBbmFseXRpY3NcbiAqXG4gKiBUZXN0cyBmb3IgdHlwZS1zYWZlIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcgYW5kIGFuYWx5dGljcyB0cmFja2luZ1xuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBhZnRlckVhY2gsXG4gIGJlZm9yZUVhY2gsXG4gIGRlc2NyaWJlLFxuICBleHBlY3QsXG4gIGl0LFxuICBqZXN0LFxufSBmcm9tIFwiQGplc3QvZ2xvYmFsc1wiO1xuaW1wb3J0IHsgYWN0LCByZW5kZXJIb29rIH0gZnJvbSBcIkB0ZXN0aW5nLWxpYnJhcnkvcmVhY3RcIjtcbmltcG9ydCB7XG4gIGluaXRpYWxpemVEaXZpbmVQZXJmb3JtYW5jZVRyYWNraW5nLFxuICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzLFxuICB0eXBlIENvbXBvbmVudENvbnNjaW91c25lc3MsXG4gIHR5cGUgQ29tcG9uZW50TWV0cmljcyxcbiAgdHlwZSBEaXZpbmVQZXJmb3JtYW5jZU1ldHJpYyxcbn0gZnJvbSBcIi4uL3VzZUNvbXBvbmVudENvbnNjaW91c25lc3NcIjtcblxuZGVzY3JpYmUoXCJ1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzIEhvb2tcIiwgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZ2xvYmFsIHRyYWNrZXJzXG4gICAgZGVsZXRlIChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXztcbiAgICBkZWxldGUgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9BTkFMWVRJQ1NfXztcblxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzdG9yZUFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiQmFzaWMgSW5pdGlhbGl6YXRpb25cIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIGluaXRpYWxpemUgd2l0aCBjb21wb25lbnQgbmFtZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50KS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnN0YXJ0TWVhc3VyZW1lbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudCkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmV0dXJuIGNvbnNpc3RlbnQgY29uc2Npb3VzbmVzcyBvYmplY3RcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQsIHJlcmVuZGVyIH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MoXCJUZXN0Q29tcG9uZW50XCIpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBmaXJzdFJlZiA9IHJlc3VsdC5jdXJyZW50O1xuXG4gICAgICAvLyBSZS1yZW5kZXJcbiAgICAgIHJlcmVuZGVyKCk7XG5cbiAgICAgIC8vIFNob3VsZCBoYXZlIHNhbWUgc3RydWN0dXJlIChtZW1vaXplZClcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudCkudG9TdHJpY3RFcXVhbChmaXJzdFJlZik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBhY2NlcHQgb3B0aW9uYWwgY29udGV4dFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ZXh0ID0geyB2YXJpYW50OiBcImFncmljdWx0dXJhbFwiLCBzaXplOiBcImxhcmdlXCIgfTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIkZhcm1DYXJkXCIsIGNvbnRleHQpXG4gICAgICApO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiTWV0cmljcyBUcmFja2luZ1wiLCAoKSA9PiB7XG4gICAgaXQoXCJzaG91bGQgaW5pdGlhbGl6ZSBtZXRyaWNzIHdpdGggemVybyB2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3MgPSByZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdChtZXRyaWNzLmNvbXBvbmVudE5hbWUpLnRvQmUoXCJUZXN0Q29tcG9uZW50XCIpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MucmVuZGVyQ291bnQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBleHBlY3QobWV0cmljcy5lcnJvckNvdW50KS50b0JlKDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZXZlbnRDb3VudCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHRyYWNrIHJlbmRlciBjb3VudFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCwgcmVyZW5kZXIgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGluaXRpYWxSZW5kZXJDb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5yZW5kZXJDb3VudDtcblxuICAgICAgLy8gRm9yY2UgcmUtcmVuZGVyc1xuICAgICAgcmVyZW5kZXIoKTtcbiAgICAgIHJlcmVuZGVyKCk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmluYWxSZW5kZXJDb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5yZW5kZXJDb3VudDtcbiAgICAgIGV4cGVjdChmaW5hbFJlbmRlckNvdW50KS50b0JlR3JlYXRlclRoYW4oaW5pdGlhbFJlbmRlckNvdW50KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHJlY29yZCByZW5kZXIgdGltZXNcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwKSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWV0cmljcyA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmxhc3RSZW5kZXJUaW1lKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuYXZlcmFnZVJlbmRlclRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiUGVyZm9ybWFuY2UgTWVhc3VyZW1lbnRcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHN0YXJ0IGFuZCBjb21wbGV0ZSBtZWFzdXJlbWVudCBzdWNjZXNzZnVsbHlcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZURpdmluZVBlcmZvcm1hbmNlVHJhY2tpbmcoKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcInRlc3Rfb3BlcmF0aW9uXCIpO1xuXG4gICAgICAgIC8vIFNpbXVsYXRlIGFzeW5jIG9wZXJhdGlvblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MCkpO1xuXG4gICAgICAgIG1lYXN1cmVtZW50LnN1Y2Nlc3MoKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuXG4gICAgICBjb25zdCB0ZXN0TWV0cmljID0gbWV0cmljcy5maW5kKFxuICAgICAgICAobTogRGl2aW5lUGVyZm9ybWFuY2VNZXRyaWMpID0+XG4gICAgICAgICAgbS5jb21wb25lbnQgPT09IFwiVGVzdENvbXBvbmVudFwiICYmIG0ub3BlcmF0aW9uID09PSBcInRlc3Rfb3BlcmF0aW9uXCJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdCh0ZXN0TWV0cmljKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHRlc3RNZXRyaWMuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdCh0ZXN0TWV0cmljLmR1cmF0aW9uKS50b0JlR3JlYXRlclRoYW4oMCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgbWVhc3VyZW1lbnQgZmFpbHVyZSB3aXRoIEVycm9yIG9iamVjdFwiLCBhc3luYyAoKSA9PiB7XG4gICAgICBpbml0aWFsaXplRGl2aW5lUGVyZm9ybWFuY2VUcmFja2luZygpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgdGVzdEVycm9yID0gbmV3IEVycm9yKFwiVGVzdCBlcnJvciBtZXNzYWdlXCIpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtZWFzdXJlbWVudCA9XG4gICAgICAgICAgcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcImZhaWxpbmdfb3BlcmF0aW9uXCIpO1xuICAgICAgICBtZWFzdXJlbWVudC5mYWlsdXJlKHRlc3RFcnJvcik7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWV0cmljcyA9IChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5nZXRNZXRyaWNzKCk7XG4gICAgICBjb25zdCBmYWlsdXJlTWV0cmljID0gbWV0cmljcy5maW5kKFxuICAgICAgICAobTogRGl2aW5lUGVyZm9ybWFuY2VNZXRyaWMpID0+XG4gICAgICAgICAgbS5jb21wb25lbnQgPT09IFwiVGVzdENvbXBvbmVudFwiICYmIG0ub3BlcmF0aW9uID09PSBcImZhaWxpbmdfb3BlcmF0aW9uXCJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChmYWlsdXJlTWV0cmljKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGZhaWx1cmVNZXRyaWMuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QoZmFpbHVyZU1ldHJpYy5lcnJvcikudG9CZShcIlRlc3QgZXJyb3IgbWVzc2FnZVwiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSBtZWFzdXJlbWVudCBmYWlsdXJlIHdpdGggc3RyaW5nIGVycm9yXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGluaXRpYWxpemVEaXZpbmVQZXJmb3JtYW5jZVRyYWNraW5nKCk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MoXCJUZXN0Q29tcG9uZW50XCIpXG4gICAgICApO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtZWFzdXJlbWVudCA9IHJlc3VsdC5jdXJyZW50LnN0YXJ0TWVhc3VyZW1lbnQoXCJzdHJpbmdfZXJyb3Jfb3BcIik7XG4gICAgICAgIG1lYXN1cmVtZW50LmZhaWx1cmUoXCJTdHJpbmcgZXJyb3IgbWVzc2FnZVwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldE1ldHJpY3MoKTtcbiAgICAgIGNvbnN0IGZhaWx1cmVNZXRyaWMgPSBtZXRyaWNzLmZpbmQoXG4gICAgICAgIChtOiBEaXZpbmVQZXJmb3JtYW5jZU1ldHJpYykgPT4gbS5vcGVyYXRpb24gPT09IFwic3RyaW5nX2Vycm9yX29wXCJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChmYWlsdXJlTWV0cmljPy5lcnJvcikudG9CZShcIlN0cmluZyBlcnJvciBtZXNzYWdlXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG1lYXN1cmVtZW50IGZhaWx1cmUgd2l0aCB1bmtub3duIGVycm9yIHR5cGVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZURpdmluZVBlcmZvcm1hbmNlVHJhY2tpbmcoKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcInVua25vd25fZXJyb3Jfb3BcIik7XG4gICAgICAgIG1lYXN1cmVtZW50LmZhaWx1cmUoeyBjdXN0b206IFwiZXJyb3Igb2JqZWN0XCIgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWV0cmljcyA9IChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5nZXRNZXRyaWNzKCk7XG4gICAgICBjb25zdCBmYWlsdXJlTWV0cmljID0gbWV0cmljcy5maW5kKFxuICAgICAgICAobTogRGl2aW5lUGVyZm9ybWFuY2VNZXRyaWMpID0+IG0ub3BlcmF0aW9uID09PSBcInVua25vd25fZXJyb3Jfb3BcIlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KGZhaWx1cmVNZXRyaWM/LmVycm9yKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaW5jcmVtZW50IGVycm9yIGNvdW50IG9uIGZhaWx1cmVcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGluaXRpYWxFcnJvckNvdW50ID0gcmVzdWx0LmN1cnJlbnQuZ2V0TWV0cmljcygpLmVycm9yQ291bnQ7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcImVycm9yX29wXCIpO1xuICAgICAgICBtZWFzdXJlbWVudC5mYWlsdXJlKG5ldyBFcnJvcihcInRlc3RcIikpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZpbmFsRXJyb3JDb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5lcnJvckNvdW50O1xuICAgICAgZXhwZWN0KGZpbmFsRXJyb3JDb3VudCkudG9CZShpbml0aWFsRXJyb3JDb3VudCArIDEpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIkV2ZW50IFRyYWNraW5nXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCB0cmFjayBjdXN0b20gZXZlbnRzXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MoXCJUZXN0Q29tcG9uZW50XCIpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBpbml0aWFsRXZlbnRDb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5ldmVudENvdW50O1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KFwidXNlcl9pbnRlcmFjdGlvblwiLCB7IGFjdGlvbjogXCJjbGlja1wiIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGZpbmFsRXZlbnRDb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5ldmVudENvdW50O1xuICAgICAgZXhwZWN0KGZpbmFsRXZlbnRDb3VudCkudG9CZShpbml0aWFsRXZlbnRDb3VudCArIDEpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcHJvdmlkZSBjb21wb25lbnQgbWV0cmljc1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiLCB7IHZhcmlhbnQ6IFwidGVzdFwiIH0pXG4gICAgICApO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0TWV0cmljcygpO1xuXG4gICAgICBleHBlY3QobWV0cmljcy5jb21wb25lbnROYW1lKS50b0JlKFwiVGVzdENvbXBvbmVudFwiKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVQcm9wZXJ0eShcInJlbmRlckNvdW50XCIpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MpLnRvSGF2ZVByb3BlcnR5KFwiZXJyb3JDb3VudFwiKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0hhdmVQcm9wZXJ0eShcImV2ZW50Q291bnRcIik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCB3b3JrIHdpdGhvdXQgZ2xvYmFsIHRyYWNrZXIgaW5pdGlhbGl6ZWRcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcIm5vX3RyYWNrZXJfb3BcIik7XG4gICAgICAgIG1lYXN1cmVtZW50LnN1Y2Nlc3MoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTaG91bGQgbm90IHRocm93LCBqdXN0IG5vdCByZWNvcmQgZ2xvYmFsbHlcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCB0cmFjayBldmVudHMgd2l0aG91dCBtZXRhZGF0YVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiQnV0dG9uQ29tcG9uZW50XCIpXG4gICAgICApO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KFwiY2xpY2tcIik7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWV0cmljcyA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzLmV2ZW50Q291bnQpLnRvQmUoMSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCB0cmFjayBldmVudHMgd2l0aCBtZXRhZGF0YVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiRm9ybUNvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudChcInN1Ym1pdFwiLCB7IGZvcm1JZDogXCJjb250YWN0LWZvcm1cIiB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzMSA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzMS5ldmVudENvdW50KS50b0JlKDEpO1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KFwic3VibWl0XCIsIHtcbiAgICAgICAgICBmb3JtSWQ6IFwiY29udGFjdC1mb3JtXCIsXG4gICAgICAgICAgZmllbGRDb3VudDogNSxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbWV0cmljczIgPSByZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljczIuZXZlbnRDb3VudCkudG9CZSgyKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHRyYWNrIG11bHRpcGxlIGV2ZW50c1wiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudChcImV2ZW50MVwiKTtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudChcImV2ZW50MlwiKTtcbiAgICAgICAgcmVzdWx0LmN1cnJlbnQudHJhY2tFdmVudChcImV2ZW50M1wiKTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0TWV0cmljcygpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZXZlbnRDb3VudCkudG9CZSgzKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHNlbmQgZXZlbnRzIHRvIGFuYWx5dGljcyB0cmFja2VyIGlmIGF2YWlsYWJsZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQW5hbHl0aWNzVHJhY2sgPSBqZXN0LmZuKCk7XG5cbiAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfQU5BTFlUSUNTX18gPSB7XG4gICAgICAgIHRyYWNrOiBtb2NrQW5hbHl0aWNzVHJhY2ssXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBjb250ZXh0ID0geyB2YXJpYW50OiBcInByaW1hcnlcIiB9O1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIiwgY29udGV4dClcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1ldGFkYXRhID0geyBidXR0b25JZDogXCJzdWJtaXRcIiB9O1xuXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KFwiYnV0dG9uX2NsaWNrXCIsIG1ldGFkYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobW9ja0FuYWx5dGljc1RyYWNrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIGNvbXBvbmVudDogXCJUZXN0Q29tcG9uZW50XCIsXG4gICAgICAgIGV2ZW50OiBcImJ1dHRvbl9jbGlja1wiLFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgdGltZXN0YW1wOiBleHBlY3QuYW55KE51bWJlciksXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIHdvcmsgd2l0aG91dCBhbmFseXRpY3MgdHJhY2tlclwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KCgpID0+IHtcbiAgICAgICAgYWN0KCgpID0+IHtcbiAgICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KFwiY2xpY2tcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSkubm90LnRvVGhyb3coKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJHbG9iYWwgUGVyZm9ybWFuY2UgVHJhY2tpbmcgSW5pdGlhbGl6YXRpb25cIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIGluaXRpYWxpemUgZ2xvYmFsIHRyYWNrZXJzXCIsICgpID0+IHtcbiAgICAgIGluaXRpYWxpemVEaXZpbmVQZXJmb3JtYW5jZVRyYWNraW5nKCk7XG5cbiAgICAgIGV4cGVjdCgoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fRElWSU5FX1BFUkZPUk1BTkNFX18pLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5yZWNvcmRNZXRyaWNcbiAgICAgICkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldE1ldHJpY3NcbiAgICAgICkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldENvbXBvbmVudE1ldHJpY3NcbiAgICAgICkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmNsZWFyTWV0cmljc1xuICAgICAgKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICBleHBlY3QoKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9BTkFMWVRJQ1NfXykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCgoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fRElWSU5FX0FOQUxZVElDU19fLnRyYWNrKS50b0JlRGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgcmVjb3JkIG1ldHJpY3MgZ2xvYmFsbHlcIiwgKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZURpdmluZVBlcmZvcm1hbmNlVHJhY2tpbmcoKTtcblxuICAgICAgY29uc3QgbWV0cmljOiBEaXZpbmVQZXJmb3JtYW5jZU1ldHJpYyA9IHtcbiAgICAgICAgY29tcG9uZW50OiBcIlRlc3RDb21wb25lbnRcIixcbiAgICAgICAgb3BlcmF0aW9uOiBcInRlc3Rfb3BcIixcbiAgICAgICAgZHVyYXRpb246IDEyMyxcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgfTtcblxuICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLnJlY29yZE1ldHJpYyhtZXRyaWMpO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzKS50b0NvbnRhaW5FcXVhbChtZXRyaWMpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgZ2V0IGNvbXBvbmVudC1zcGVjaWZpYyBtZXRyaWNzXCIsICgpID0+IHtcbiAgICAgIGluaXRpYWxpemVEaXZpbmVQZXJmb3JtYW5jZVRyYWNraW5nKCk7XG5cbiAgICAgIGNvbnN0IG1ldHJpYzE6IERpdmluZVBlcmZvcm1hbmNlTWV0cmljID0ge1xuICAgICAgICBjb21wb25lbnQ6IFwiQ29tcG9uZW50QVwiLFxuICAgICAgICBvcGVyYXRpb246IFwib3AxXCIsXG4gICAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG1ldHJpYzI6IERpdmluZVBlcmZvcm1hbmNlTWV0cmljID0ge1xuICAgICAgICBjb21wb25lbnQ6IFwiQ29tcG9uZW50QlwiLFxuICAgICAgICBvcGVyYXRpb246IFwib3AyXCIsXG4gICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgIH07XG5cbiAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5yZWNvcmRNZXRyaWMobWV0cmljMSk7XG4gICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fRElWSU5FX1BFUkZPUk1BTkNFX18ucmVjb3JkTWV0cmljKG1ldHJpYzIpO1xuXG4gICAgICBjb25zdCBjb21wb25lbnRBTWV0cmljcyA9IChcbiAgICAgICAgZ2xvYmFsVGhpcyBhcyBhbnlcbiAgICAgICkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5nZXRDb21wb25lbnRNZXRyaWNzKFwiQ29tcG9uZW50QVwiKTtcblxuICAgICAgZXhwZWN0KGNvbXBvbmVudEFNZXRyaWNzLmxlbmd0aCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChjb21wb25lbnRBTWV0cmljc1swXS5jb21wb25lbnQpLnRvQmUoXCJDb21wb25lbnRBXCIpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgY2xlYXIgbWV0cmljc1wiLCAoKSA9PiB7XG4gICAgICBpbml0aWFsaXplRGl2aW5lUGVyZm9ybWFuY2VUcmFja2luZygpO1xuXG4gICAgICBjb25zdCBtZXRyaWM6IERpdmluZVBlcmZvcm1hbmNlTWV0cmljID0ge1xuICAgICAgICBjb21wb25lbnQ6IFwiVGVzdENvbXBvbmVudFwiLFxuICAgICAgICBvcGVyYXRpb246IFwidGVzdF9vcFwiLFxuICAgICAgICBkdXJhdGlvbjogMTIzLFxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICB9O1xuXG4gICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fRElWSU5FX1BFUkZPUk1BTkNFX18ucmVjb3JkTWV0cmljKG1ldHJpYyk7XG4gICAgICBleHBlY3QoXG4gICAgICAgIChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5nZXRNZXRyaWNzKCkubGVuZ3RoXG4gICAgICApLnRvQmVHcmVhdGVyVGhhbigwKTtcblxuICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmNsZWFyTWV0cmljcygpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICAoZ2xvYmFsVGhpcyBhcyBhbnkpLl9fRElWSU5FX1BFUkZPUk1BTkNFX18uZ2V0TWV0cmljcygpLmxlbmd0aFxuICAgICAgKS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgbGltaXQgbWV0cmljcyB0byAxMDAwIGVudHJpZXNcIiwgKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZURpdmluZVBlcmZvcm1hbmNlVHJhY2tpbmcoKTtcblxuICAgICAgLy8gQWRkIDExMDAgbWV0cmljc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMTAwOyBpKyspIHtcbiAgICAgICAgKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLnJlY29yZE1ldHJpYyh7XG4gICAgICAgICAgY29tcG9uZW50OiBcIlRlc3RDb21wb25lbnRcIixcbiAgICAgICAgICBvcGVyYXRpb246IGBvcF8ke2l9YCxcbiAgICAgICAgICBkdXJhdGlvbjogMTAwLFxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbWV0cmljcyA9IChnbG9iYWxUaGlzIGFzIGFueSkuX19ESVZJTkVfUEVSRk9STUFOQ0VfXy5nZXRNZXRyaWNzKCk7XG4gICAgICBleHBlY3QobWV0cmljcy5sZW5ndGgpLnRvQmVMZXNzVGhhbk9yRXF1YWwoMTAwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKFwiSW50ZWdyYXRpb24gd2l0aCBSZWFjdCBMaWZlY3ljbGVcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIHRyYWNrIGNvbXBvbmVudCB1bm1vdW50XCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVzdWx0LCB1bm1vdW50IH0gPSByZW5kZXJIb29rKCgpID0+XG4gICAgICAgIHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MoXCJUZXN0Q29tcG9uZW50XCIpXG4gICAgICApO1xuXG4gICAgICBjb25zdCBtZXRyaWNzQmVmb3JlVW5tb3VudCA9IHJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKTtcbiAgICAgIGV4cGVjdChtZXRyaWNzQmVmb3JlVW5tb3VudCkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gU2hvdWxkIG5vdCB0aHJvdyBvbiB1bm1vdW50XG4gICAgICBleHBlY3QoKCkgPT4gdW5tb3VudCgpKS5ub3QudG9UaHJvdygpO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG11bHRpcGxlIGNvbXBvbmVudCBpbnN0YW5jZXNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgaG9vazEgPSByZW5kZXJIb29rKCgpID0+IHVzZUNvbXBvbmVudENvbnNjaW91c25lc3MoXCJDb21wb25lbnQxXCIpKTtcbiAgICAgIGNvbnN0IGhvb2syID0gcmVuZGVySG9vaygoKSA9PiB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiQ29tcG9uZW50MlwiKSk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGhvb2sxLnJlc3VsdC5jdXJyZW50LnRyYWNrRXZlbnQoXCJldmVudDFcIik7XG4gICAgICAgIGhvb2syLnJlc3VsdC5jdXJyZW50LnRyYWNrRXZlbnQoXCJldmVudDJcIik7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGhvb2sxLnJlc3VsdC5jdXJyZW50LmdldE1ldHJpY3MoKS5jb21wb25lbnROYW1lKS50b0JlKFxuICAgICAgICBcIkNvbXBvbmVudDFcIlxuICAgICAgKTtcbiAgICAgIGV4cGVjdChob29rMi5yZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuY29tcG9uZW50TmFtZSkudG9CZShcbiAgICAgICAgXCJDb21wb25lbnQyXCJcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChob29rMS5yZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuZXZlbnRDb3VudCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChob29rMi5yZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuZXZlbnRDb3VudCkudG9CZSgxKTtcblxuICAgICAgaG9vazEudW5tb3VudCgpO1xuICAgICAgaG9vazIudW5tb3VudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZShcIlR5cGVTY3JpcHQgVHlwZSBTYWZldHlcIiwgKCkgPT4ge1xuICAgIGl0KFwic2hvdWxkIGhhdmUgcHJvcGVybHkgdHlwZWQgcmV0dXJuIG9iamVjdFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PlxuICAgICAgICB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKFwiVGVzdENvbXBvbmVudFwiKVxuICAgICAgKTtcblxuICAgICAgY29uc3QgY29uc2Npb3VzbmVzczogQ29tcG9uZW50Q29uc2Npb3VzbmVzcyA9IHJlc3VsdC5jdXJyZW50O1xuXG4gICAgICBleHBlY3QodHlwZW9mIGNvbnNjaW91c25lc3Muc3RhcnRNZWFzdXJlbWVudCkudG9CZShcImZ1bmN0aW9uXCIpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBjb25zY2lvdXNuZXNzLnRyYWNrRXZlbnQpLnRvQmUoXCJmdW5jdGlvblwiKTtcbiAgICAgIGV4cGVjdCh0eXBlb2YgY29uc2Npb3VzbmVzcy5nZXRNZXRyaWNzKS50b0JlKFwiZnVuY3Rpb25cIik7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYXZlIHByb3Blcmx5IHR5cGVkIG1ldHJpY3NcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IG1ldHJpY3M6IENvbXBvbmVudE1ldHJpY3MgPSByZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCk7XG5cbiAgICAgIGV4cGVjdCh0eXBlb2YgbWV0cmljcy5jb21wb25lbnROYW1lKS50b0JlKFwic3RyaW5nXCIpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLnJlbmRlckNvdW50KS50b0JlKFwibnVtYmVyXCIpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmxhc3RSZW5kZXJUaW1lKS50b0JlKFwibnVtYmVyXCIpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmF2ZXJhZ2VSZW5kZXJUaW1lKS50b0JlKFwibnVtYmVyXCIpO1xuICAgICAgZXhwZWN0KHR5cGVvZiBtZXRyaWNzLmVycm9yQ291bnQpLnRvQmUoXCJudW1iZXJcIik7XG4gICAgICBleHBlY3QodHlwZW9mIG1ldHJpY3MuZXZlbnRDb3VudCkudG9CZShcIm51bWJlclwiKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoXCJFZGdlIENhc2VzXCIsICgpID0+IHtcbiAgICBpdChcInNob3VsZCBoYW5kbGUgZW1wdHkgY29tcG9uZW50IG5hbWVcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlwiKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuY29tcG9uZW50TmFtZSkudG9CZShcIlwiKTtcbiAgICB9KTtcblxuICAgIGl0KFwic2hvdWxkIGhhbmRsZSB2ZXJ5IGxvbmcgY29tcG9uZW50IG5hbWVzXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGxvbmdOYW1lID0gXCJBXCIucmVwZWF0KDEwMDApO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VDb21wb25lbnRDb25zY2lvdXNuZXNzKGxvbmdOYW1lKSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuY29tcG9uZW50TmFtZSkudG9CZShsb25nTmFtZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzIGluIGNvbXBvbmVudCBuYW1lXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHNwZWNpYWxOYW1lID0gXCJUZXN0LUNvbXBvbmVudF8xMjNAIyRcIjtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhzcGVjaWFsTmFtZSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5nZXRNZXRyaWNzKCkuY29tcG9uZW50TmFtZSkudG9CZShzcGVjaWFsTmFtZSk7XG4gICAgfSk7XG5cbiAgICBpdChcInNob3VsZCBoYW5kbGUgcmFwaWQtZmlyZSBldmVudHNcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQuY3VycmVudC50cmFja0V2ZW50KGBldmVudF8ke2l9YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gcmVzdWx0LmN1cnJlbnQuZ2V0TWV0cmljcygpO1xuICAgICAgZXhwZWN0KG1ldHJpY3MuZXZlbnRDb3VudCkudG9CZSgxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoXCJzaG91bGQgaGFuZGxlIG1lYXN1cmVtZW50cyB3aXRoIHplcm8gZHVyYXRpb25cIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgaW5pdGlhbGl6ZURpdmluZVBlcmZvcm1hbmNlVHJhY2tpbmcoKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT5cbiAgICAgICAgdXNlQ29tcG9uZW50Q29uc2Npb3VzbmVzcyhcIlRlc3RDb21wb25lbnRcIilcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lYXN1cmVtZW50ID0gcmVzdWx0LmN1cnJlbnQuc3RhcnRNZWFzdXJlbWVudChcImluc3RhbnRfb3BcIik7XG4gICAgICAgIG1lYXN1cmVtZW50LnN1Y2Nlc3MoKTsgLy8gSW1tZWRpYXRlIHN1Y2Nlc3NcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBtZXRyaWNzID0gKGdsb2JhbFRoaXMgYXMgYW55KS5fX0RJVklORV9QRVJGT1JNQU5DRV9fLmdldE1ldHJpY3MoKTtcbiAgICAgIGNvbnN0IGluc3RhbnRNZXRyaWMgPSBtZXRyaWNzLmZpbmQoXG4gICAgICAgIChtOiBEaXZpbmVQZXJmb3JtYW5jZU1ldHJpYykgPT4gbS5vcGVyYXRpb24gPT09IFwiaW5zdGFudF9vcFwiXG4gICAgICApO1xuXG4gICAgICBleHBlY3QoaW5zdGFudE1ldHJpYykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChpbnN0YW50TWV0cmljLmR1cmF0aW9uKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKDApO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sInZlcnNpb24iOjN9
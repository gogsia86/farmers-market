{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\cache\\__tests__\\agricultural-cache.test.ts","mappings":"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","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\cache\\__tests__\\agricultural-cache.test.ts"],"sourcesContent":["/**\n * ðŸŒ¾ AGRICULTURAL CACHE TEST SUITE\n * Comprehensive tests for agricultural-aware caching\n */\n\nimport { beforeEach, describe, expect, it } from \"@jest/globals\";\nimport { AgriculturalCache } from \"../agricultural-cache\";\nimport * as cacheModule from \"../index\";\n\n// Mock the cache module\njest.mock(\"../index\", () => ({\n  cache: {\n    set: jest.fn(),\n    get: jest.fn(),\n    del: jest.fn(),\n    delPattern: jest.fn(),\n  },\n  CacheKeys: {\n    farm: (id: string) => `farm:${id}`,\n    product: (id: string) => `product:${id}`,\n    seasonalData: (season: string) => `seasonal:${season}`,\n  },\n}));\n\ndescribe(\"ðŸŒ¾ Agricultural Cache - Seasonal Awareness\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe(\"ðŸ¡ Farm Caching\", () => {\n    it(\"should cache farm data\", async () => {\n      const farmData = { id: \"farm-1\", name: \"Green Valley Farm\" };\n\n      await AgriculturalCache.cacheFarm(\"farm-1\", farmData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"farm:farm-1\",\n        farmData\n      );\n    });\n\n    it(\"should get cached farm data\", async () => {\n      const farmData = { id: \"farm-1\", name: \"Green Valley Farm\" };\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(farmData);\n\n      const result = await AgriculturalCache.getFarm(\"farm-1\");\n\n      expect(result).toEqual(farmData);\n      expect(cacheModule.cache.get).toHaveBeenCalledWith(\"farm:farm-1\");\n    });\n\n    it(\"should return null for cache miss\", async () => {\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(null);\n\n      const result = await AgriculturalCache.getFarm(\"nonexistent\");\n\n      expect(result).toBeNull();\n    });\n\n    it(\"should invalidate farm cache\", async () => {\n      await AgriculturalCache.invalidateFarm(\"farm-1\");\n\n      expect(cacheModule.cache.del).toHaveBeenCalledWith(\"farm:farm-1\");\n      expect(cacheModule.cache.delPattern).toHaveBeenCalledWith(\"farms:list:*\");\n    });\n\n    it(\"should cache multiple farms\", async () => {\n      const farms = [\n        { id: \"farm-1\", name: \"Farm 1\" },\n        { id: \"farm-2\", name: \"Farm 2\" },\n        { id: \"farm-3\", name: \"Farm 3\" },\n      ];\n\n      for (const farm of farms) {\n        await AgriculturalCache.cacheFarm(farm.id, farm);\n      }\n\n      expect(cacheModule.cache.set).toHaveBeenCalledTimes(3);\n    });\n  });\n\n  describe(\"ðŸ›’ Product Caching\", () => {\n    it(\"should cache product data\", async () => {\n      const productData = { id: \"prod-1\", name: \"Organic Tomatoes\" };\n\n      await AgriculturalCache.cacheProduct(\"prod-1\", productData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"product:prod-1\",\n        productData\n      );\n    });\n\n    it(\"should get cached product data\", async () => {\n      const productData = { id: \"prod-1\", name: \"Organic Tomatoes\" };\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(productData);\n\n      const result = await AgriculturalCache.getProduct(\"prod-1\");\n\n      expect(result).toEqual(productData);\n      expect(cacheModule.cache.get).toHaveBeenCalledWith(\"product:prod-1\");\n    });\n\n    it(\"should return null for product cache miss\", async () => {\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(null);\n\n      const result = await AgriculturalCache.getProduct(\"nonexistent\");\n\n      expect(result).toBeNull();\n    });\n\n    it(\"should invalidate product cache and related lists\", async () => {\n      await AgriculturalCache.invalidateProduct(\"prod-1\", \"farm-1\");\n\n      expect(cacheModule.cache.del).toHaveBeenCalledWith(\"product:prod-1\");\n      expect(cacheModule.cache.delPattern).toHaveBeenCalledWith(\n        \"products:farm-1:*\"\n      );\n      expect(cacheModule.cache.delPattern).toHaveBeenCalledWith(\"farms:list:*\");\n    });\n\n    it(\"should cache multiple products\", async () => {\n      const products = [\n        { id: \"prod-1\", name: \"Product 1\" },\n        { id: \"prod-2\", name: \"Product 2\" },\n        { id: \"prod-3\", name: \"Product 3\" },\n      ];\n\n      for (const product of products) {\n        await AgriculturalCache.cacheProduct(product.id, product);\n      }\n\n      expect(cacheModule.cache.set).toHaveBeenCalledTimes(3);\n    });\n  });\n\n  describe(\"ðŸŒ¸ Seasonal Caching\", () => {\n    it(\"should cache SPRING data with correct TTL\", async () => {\n      const springData = { season: \"SPRING\", crops: [\"lettuce\", \"peas\"] };\n\n      await AgriculturalCache.cacheSeasonalData(\"SPRING\", springData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"seasonal:SPRING\",\n        springData,\n        3600\n      );\n    });\n\n    it(\"should cache SUMMER data with correct TTL\", async () => {\n      const summerData = { season: \"SUMMER\", crops: [\"tomatoes\", \"corn\"] };\n\n      await AgriculturalCache.cacheSeasonalData(\"SUMMER\", summerData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"seasonal:SUMMER\",\n        summerData,\n        7200\n      );\n    });\n\n    it(\"should cache FALL data with correct TTL\", async () => {\n      const fallData = { season: \"FALL\", crops: [\"pumpkins\", \"squash\"] };\n\n      await AgriculturalCache.cacheSeasonalData(\"FALL\", fallData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"seasonal:FALL\",\n        fallData,\n        1800\n      );\n    });\n\n    it(\"should cache WINTER data with correct TTL\", async () => {\n      const winterData = { season: \"WINTER\", crops: [\"kale\", \"cabbage\"] };\n\n      await AgriculturalCache.cacheSeasonalData(\"WINTER\", winterData);\n\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"seasonal:WINTER\",\n        winterData,\n        14400\n      );\n    });\n\n    it(\"should get cached seasonal data\", async () => {\n      const seasonalData = { season: \"SPRING\", data: \"test\" };\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(seasonalData);\n\n      const result = await AgriculturalCache.getSeasonalData(\"SPRING\");\n\n      expect(result).toEqual(seasonalData);\n      expect(cacheModule.cache.get).toHaveBeenCalledWith(\"seasonal:SPRING\");\n    });\n\n    it(\"should return null for seasonal cache miss\", async () => {\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(null);\n\n      const result = await AgriculturalCache.getSeasonalData(\"SUMMER\");\n\n      expect(result).toBeNull();\n    });\n\n    it(\"should cache all seasons\", async () => {\n      const seasons: Array<\"SPRING\" | \"SUMMER\" | \"FALL\" | \"WINTER\"> = [\n        \"SPRING\",\n        \"SUMMER\",\n        \"FALL\",\n        \"WINTER\",\n      ];\n\n      for (const season of seasons) {\n        await AgriculturalCache.cacheSeasonalData(season, { season });\n      }\n\n      expect(cacheModule.cache.set).toHaveBeenCalledTimes(4);\n    });\n  });\n\n  describe(\"ðŸ”„ Integration Scenarios\", () => {\n    it(\"should handle complete farm workflow\", async () => {\n      const farmData = { id: \"farm-1\", name: \"Test Farm\" };\n\n      // Cache\n      await AgriculturalCache.cacheFarm(\"farm-1\", farmData);\n      expect(cacheModule.cache.set).toHaveBeenCalled();\n\n      // Get\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(farmData);\n      const result = await AgriculturalCache.getFarm(\"farm-1\");\n      expect(result).toEqual(farmData);\n\n      // Invalidate\n      await AgriculturalCache.invalidateFarm(\"farm-1\");\n      expect(cacheModule.cache.del).toHaveBeenCalled();\n    });\n\n    it(\"should handle complete product workflow\", async () => {\n      const productData = {\n        id: \"prod-1\",\n        name: \"Test Product\",\n        farmId: \"farm-1\",\n      };\n\n      // Cache\n      await AgriculturalCache.cacheProduct(\"prod-1\", productData);\n      expect(cacheModule.cache.set).toHaveBeenCalled();\n\n      // Get\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(productData);\n      const result = await AgriculturalCache.getProduct(\"prod-1\");\n      expect(result).toEqual(productData);\n\n      // Invalidate\n      await AgriculturalCache.invalidateProduct(\"prod-1\", \"farm-1\");\n      expect(cacheModule.cache.del).toHaveBeenCalled();\n      expect(cacheModule.cache.delPattern).toHaveBeenCalledTimes(2);\n    });\n\n    it(\"should cache farm with products\", async () => {\n      const farmData = { id: \"farm-1\", name: \"Farm\" };\n      const products = [\n        { id: \"prod-1\", name: \"Product 1\" },\n        { id: \"prod-2\", name: \"Product 2\" },\n      ];\n\n      await AgriculturalCache.cacheFarm(\"farm-1\", farmData);\n\n      for (const product of products) {\n        await AgriculturalCache.cacheProduct(product.id, product);\n      }\n\n      expect(cacheModule.cache.set).toHaveBeenCalledTimes(3);\n    });\n\n    it(\"should cache seasonal data for all seasons\", async () => {\n      const seasons: Array<\"SPRING\" | \"SUMMER\" | \"FALL\" | \"WINTER\"> = [\n        \"SPRING\",\n        \"SUMMER\",\n        \"FALL\",\n        \"WINTER\",\n      ];\n\n      for (const season of seasons) {\n        await AgriculturalCache.cacheSeasonalData(season, { data: season });\n      }\n\n      expect(cacheModule.cache.set).toHaveBeenCalledTimes(4);\n    });\n  });\n\n  describe(\"ðŸŽ¯ Edge Cases\", () => {\n    it(\"should handle empty farm data\", async () => {\n      await AgriculturalCache.cacheFarm(\"farm-1\", {});\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\"farm:farm-1\", {});\n    });\n\n    it(\"should handle empty product data\", async () => {\n      await AgriculturalCache.cacheProduct(\"prod-1\", {});\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\"product:prod-1\", {});\n    });\n\n    it(\"should handle null returns gracefully\", async () => {\n      jest.mocked(cacheModule.cache.get).mockResolvedValue(null);\n\n      const farmResult = await AgriculturalCache.getFarm(\"missing\");\n      const productResult = await AgriculturalCache.getProduct(\"missing\");\n      const seasonResult = await AgriculturalCache.getSeasonalData(\"SPRING\");\n\n      expect(farmResult).toBeNull();\n      expect(productResult).toBeNull();\n      expect(seasonResult).toBeNull();\n    });\n\n    it(\"should handle complex nested data\", async () => {\n      const complexData = {\n        id: \"farm-1\",\n        nested: {\n          deep: {\n            value: \"test\",\n            array: [1, 2, 3],\n          },\n        },\n      };\n\n      await AgriculturalCache.cacheFarm(\"farm-1\", complexData);\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"farm:farm-1\",\n        complexData\n      );\n    });\n\n    it(\"should handle arrays\", async () => {\n      const arrayData = [1, 2, 3, 4, 5];\n      await AgriculturalCache.cacheFarm(\"farm-1\", arrayData);\n      expect(cacheModule.cache.set).toHaveBeenCalledWith(\n        \"farm:farm-1\",\n        arrayData\n      );\n    });\n  });\n});\n\r\n"],"version":3}
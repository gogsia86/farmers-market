{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\services\\shipping.service.ts","mappings":";AAAA;;;GAGG;;;AAEH,6CAA0C;AAe1C,MAAa,eAAe;IAC1B;;OAEG;IACH,MAAM,CAAC,KAAK,CAAC,sBAAsB,CACjC,QAAgB,EAChB,YAA8D;QAE9D,sEAAsE;QACtE,MAAM,KAAK,GAAmB;YAC5B,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,EAAE;YACrD,EAAE,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC,EAAE;YACrD,EAAE,OAAO,EAAE,WAAW,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAE,CAAC,EAAE;SACxD,CAAC;QAEF,OAAO,KAAK,CAAC;IACf,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAC9B,OAAe,EACf,OAAe;QAEf,qDAAqD;QACrD,MAAM,cAAc,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC;QAC1C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC;QAEnC,6CAA6C;QAC7C,MAAM,mBAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;YAC1B,KAAK,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE;YACtB,IAAI,EAAE;gBACJ,cAAc;gBACd,eAAe,EAAE,OAAO;gBACxB,MAAM,EAAE,WAAkB;aAC3B;SACF,CAAC,CAAC;QAEH,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,CAAC;IACrC,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,KAAK,CAAC,eAAe,CAC1B,cAAsB;QAEtB,kDAAkD;QAClD,MAAM,KAAK,GAAG,MAAM,mBAAQ,CAAC,KAAK,CAAC,SAAS,CAAC;YAC3C,KAAK,EAAE,EAAE,cAAc,EAAE;SAC1B,CAAC,CAAC;QAEH,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,OAAO,EAAE,CAAC;QACZ,CAAC;QAED,OAAO;YACL;gBACE,OAAO,EAAE,KAAK,CAAC,EAAE;gBACjB,MAAM,EAAE,KAAK,CAAC,MAAM;gBACpB,QAAQ,EAAE,qBAAqB;gBAC/B,SAAS,EAAE,IAAI,IAAI,EAAE;aACtB;SACF,CAAC;IACJ,CAAC;IAED;;OAEG;IACH,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAC/B,OAAe,EACf,MAAc;QAEd,gCAAgC;QAChC,MAAM,aAAa,GAAG;YACpB,SAAS;YACT,WAAW;YACX,WAAW;YACX,OAAO;YACP,SAAS;YACT,WAAW;YACX,WAAW;SACZ,CAAC;QACF,MAAM,WAAW,GAAG,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,WAAW,CAAC;QAE1E,MAAM,mBAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;YAC1B,KAAK,EAAE,EAAE,EAAE,EAAE,OAAO,EAAE;YACtB,IAAI,EAAE,EAAE,MAAM,EAAE,WAAkB,EAAE;SACrC,CAAC,CAAC;IACL,CAAC;CACF;AA3FD,0CA2FC","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\services\\shipping.service.ts"],"sourcesContent":["/**\n * ðŸšš SHIPPING SERVICE\n * Handles shipping calculations and tracking\n */\n\nimport { database } from \"@/lib/database\";\n\nexport interface ShippingRate {\n  service: string;\n  cost: number;\n  estimatedDays: number;\n}\n\nexport interface TrackingInfo {\n  orderId: string;\n  status: string;\n  location: string;\n  timestamp: Date;\n}\n\nexport class ShippingService {\n  /**\n   * Calculate shipping rates\n   */\n  static async calculateShippingRates(\n    _orderId: string,\n    _destination: { city: string; state: string; zipCode: string }\n  ): Promise<ShippingRate[]> {\n    // In production, integrate with shipping providers (FedEx, UPS, USPS)\n    const rates: ShippingRate[] = [\n      { service: \"STANDARD\", cost: 5.99, estimatedDays: 5 },\n      { service: \"EXPRESS\", cost: 12.99, estimatedDays: 2 },\n      { service: \"OVERNIGHT\", cost: 24.99, estimatedDays: 1 },\n    ];\n\n    return rates;\n  }\n\n  /**\n   * Create shipping label\n   */\n  static async createShippingLabel(\n    orderId: string,\n    service: string\n  ): Promise<{ labelId: string; trackingNumber: string }> {\n    // In production, create label with shipping provider\n    const trackingNumber = `TRK${Date.now()}`;\n    const labelId = `LBL${Date.now()}`;\n\n    // Store tracking number and shipping service\n    await database.order.update({\n      where: { id: orderId },\n      data: {\n        trackingNumber,\n        shippingService: service,\n        status: \"PREPARING\" as any,\n      },\n    });\n\n    return { labelId, trackingNumber };\n  }\n\n  /**\n   * Get tracking information\n   */\n  static async getTrackingInfo(\n    trackingNumber: string\n  ): Promise<TrackingInfo[]> {\n    // In production, fetch from shipping provider API\n    const order = await database.order.findFirst({\n      where: { trackingNumber },\n    });\n\n    if (!order) {\n      return [];\n    }\n\n    return [\n      {\n        orderId: order.id,\n        status: order.status,\n        location: \"Distribution Center\",\n        timestamp: new Date(),\n      },\n    ];\n  }\n\n  /**\n   * Update shipping status\n   */\n  static async updateShippingStatus(\n    orderId: string,\n    status: string\n  ): Promise<void> {\n    // Cast to OrderStatus enum type\n    const validStatuses = [\n      \"PENDING\",\n      \"CONFIRMED\",\n      \"PREPARING\",\n      \"READY\",\n      \"SHIPPED\",\n      \"DELIVERED\",\n      \"CANCELLED\",\n    ];\n    const orderStatus = validStatuses.includes(status) ? status : \"PREPARING\";\n\n    await database.order.update({\n      where: { id: orderId },\n      data: { status: orderStatus as any },\n    });\n  }\n}\n"],"version":3}
{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\utils\\slug.ts","mappings":"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","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\utils\\slug.ts"],"sourcesContent":["/**\n * âš¡ DIVINE SLUG UTILITY\n * Generates URL-safe slugs with agricultural consciousness\n */\n\n/**\n * Generate a URL-safe slug from a string\n * @param text - Text to slugify\n * @param options - Slug generation options\n * @returns URL-safe slug\n */\nexport function generateSlug(\n  text: string,\n  options: {\n    lowercase?: boolean;\n    separator?: string;\n    maxLength?: number;\n  } = {},\n): string {\n  const { lowercase = true, separator = \"-\", maxLength = 100 } = options;\n\n  let slug = text.toString();\n\n  // Convert to lowercase if requested\n  if (lowercase) {\n    slug = slug.toLowerCase();\n  }\n\n  // Replace spaces and special characters\n  slug = slug\n    .trim()\n    .replace(/[\\s_]+/g, separator) // Replace spaces and underscores\n    .replace(/[^\\w\\-]+/g, \"\") // Remove non-word chars except hyphens\n    .replace(/\\-\\-+/g, separator) // Replace multiple hyphens with single\n    .replace(/^-+/, \"\") // Trim hyphens from start\n    .replace(/-+$/, \"\"); // Trim hyphens from end\n\n  // Truncate to max length\n  if (slug.length > maxLength) {\n    slug = slug.substring(0, maxLength).replace(/-+$/, \"\");\n  }\n\n  return slug;\n}\n\n/**\n * Generate a unique slug by appending a number if needed\n * @param text - Base text for slug\n * @param existingSlugs - Array of existing slugs to check against\n * @returns Unique slug\n */\nexport function generateUniqueSlug(\n  text: string,\n  existingSlugs: string[],\n): string {\n  const baseSlug = generateSlug(text);\n  let slug = baseSlug;\n  let counter = 1;\n\n  // Keep incrementing counter until we find a unique slug\n  while (existingSlugs.includes(slug)) {\n    slug = `${baseSlug}-${counter}`;\n    counter++;\n  }\n\n  return slug;\n}\n\n/**\n * Validate if a string is a valid slug\n * @param slug - String to validate\n * @returns True if valid slug\n */\nexport function isValidSlug(slug: string): boolean {\n  // Valid slug: lowercase alphanumeric with hyphens, no spaces\n  const slugRegex = /^[a-z0-9]+(?:-[a-z0-9]+)*$/;\n  return slugRegex.test(slug);\n}\n\n/**\n * Convert slug back to readable text\n * @param slug - Slug to convert\n * @returns Human-readable text\n */\nexport function slugToText(slug: string): string {\n  return slug\n    .split(\"-\")\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(\" \");\n}\n\n/**\n * Generate agricultural-conscious slug\n * Preserves farming-specific terminology\n * @param text - Text to slugify\n * @returns Agricultural slug\n */\nexport function generateAgriculturalSlug(text: string): string {\n  // Preserve important agricultural terms\n  const preserveTerms = [\n    \"organic\",\n    \"heirloom\",\n    \"non-gmo\",\n    \"biodynamic\",\n    \"farm-fresh\",\n    \"locally-grown\",\n  ];\n\n  let slug = generateSlug(text);\n\n  // Ensure agricultural terms are preserved\n  preserveTerms.forEach((term) => {\n    const termSlug = generateSlug(term);\n    if (text.toLowerCase().includes(term)) {\n      // Term already in slug, ensure proper format\n      slug = slug.replace(new RegExp(termSlug, \"g\"), termSlug);\n    }\n  });\n\n  return slug;\n}\n\n/**\n * Generate farm product slug with category\n * Format: category-product-name\n * @param productName - Name of the product\n * @param category - Product category\n * @returns Categorized slug\n */\nexport function generateProductSlug(\n  productName: string,\n  category: string,\n): string {\n  const categorySlug = generateSlug(category);\n  const productSlug = generateSlug(productName);\n\n  return `${categorySlug}-${productSlug}`;\n}\n\n/**\n * Generate farm slug with location\n * Format: farm-name-city-state\n * @param farmName - Name of the farm\n * @param city - City location\n * @param state - State location (optional)\n * @returns Location-aware farm slug\n */\nexport function generateFarmSlug(\n  farmName: string,\n  city: string,\n  state?: string,\n): string {\n  const nameSlug = generateSlug(farmName);\n  const citySlug = generateSlug(city);\n  const stateSlug = state ? generateSlug(state) : \"\";\n\n  return stateSlug\n    ? `${nameSlug}-${citySlug}-${stateSlug}`\n    : `${nameSlug}-${citySlug}`;\n}\n"],"version":3}
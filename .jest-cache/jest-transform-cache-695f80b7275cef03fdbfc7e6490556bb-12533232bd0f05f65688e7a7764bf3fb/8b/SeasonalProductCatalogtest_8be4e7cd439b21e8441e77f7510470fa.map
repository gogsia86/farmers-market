{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\components\\__tests__\\SeasonalProductCatalog.test.tsx","mappings":";AAAA;;;GAGG;;;;;AAGH,2CAAuE;AAKvE,2BAA2B;AAC3B,cAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,GAAG,EAAE,CAAC,CAAC;IACjC,QAAQ,EAAE;QACR,OAAO,EAAE;YACP,QAAQ,EAAE,cAAI,CAAC,EAAE,EAA8B;SAChD;KACF;CACF,CAAC,CAAC,CAAC;AAbJ,kDAA0B;AAE1B,kDAAiE;AACjE,6EAAoD;AACpD,sEAAmE;AAWnE,IAAA,kBAAQ,EAAC,wBAAwB,EAAE,GAAG,EAAE;IACtC,IAAA,oBAAU,EAAC,GAAG,EAAE;QACd,cAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC,CAAC,CAAC;IAEH,IAAA,kBAAQ,EAAC,+BAA+B,EAAE,GAAG,EAAE;QAC7C,IAAA,YAAE,EAAC,6DAA6D,EAAE,KAAK,IAAI,EAAE;YAC3E,UAAU;YACV,MAAM,YAAY,GAAG;gBACnB;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,yBAAyB;oBAC/B,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;gBACD;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,wBAAwB;oBAC9B,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;aACF,CAAC;YAEF,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAC,QAAQ,GAAG,CACnE,CAAC;YAEF,6CAA6C;YAC7C,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;gBACjB,IAAA,gBAAM,EACJ,cAAM,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAC7C,CAAC,iBAAiB,EAAE,CAAC;YACxB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAA,YAAE,EAAC,wDAAwD,EAAE,KAAK,IAAI,EAAE;YACtE,UAAU;YACV,MAAM,YAAY,GAAG;gBACnB;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,gBAAgB;oBACtB,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;gBACD;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,eAAe;oBACrB,MAAM,EAAE,MAAM;oBACd,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;aACF,CAAC;YAEF,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAC,QAAQ,GAAG,CACnE,CAAC;YAEF,kDAAkD;YAClD,IAAA,gBAAM,EAAC,cAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAChE,IAAA,gBAAM,EAAC,cAAM,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,iBAAiB,EAAE,CAAC;QACvE,CAAC,CAAC,CAAC;QAEH,IAAA,YAAE,EAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAC/D,gCAAgC;YAChC,IAAA,cAAM,EAAC,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,EAAE,EAAE,MAAM,EAAC,QAAQ,GAAG,CAAC,CAAC;YAEjE,2CAA2C;YAC3C,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;gBACjB,IAAA,gBAAM,EAAC,cAAM,CAAC,SAAS,CAAC,uBAAuB,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YACxE,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAA,kBAAQ,EAAC,uCAAuC,EAAE,GAAG,EAAE;QACrD,MAAM,YAAY,GAAG;YACnB;gBACE,EAAE,EAAE,WAAW;gBACf,IAAI,EAAE,iBAAiB;gBACvB,MAAM,EAAE,QAAiB;gBACzB,KAAK,EAAE,IAAI;gBACX,WAAW,EAAE,uCAAuC;gBACpD,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,QAAQ;aACjB;SACF,CAAC;QAEF,IAAA,YAAE,EAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;YACpD,UAAU;YACV,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;YAE/B,MAAM,kBAAkB,GAAG,cAAI,CAAC,EAAE,EAAE,CAAC;YAErC,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IACrB,QAAQ,EAAE,YAAY,EACtB,MAAM,EAAC,QAAQ,EACf,cAAc,EAAE,kBAAkB,GAClC,CACH,CAAC;YAEF,MAAM,WAAW,GAAG,cAAM,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;YACzD,MAAM,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAE9B,SAAS;YACT,IAAA,gBAAM,EAAC,kBAAkB,CAAC,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QAEH,IAAA,YAAE,EAAC,2DAA2D,EAAE,KAAK,IAAI,EAAE;YACzE,UAAU;YACV,MAAM,IAAI,GAAG,oBAAS,CAAC,KAAK,EAAE,CAAC;YAC/B,MAAM,YAAY,GAAG;gBACnB;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,iBAAiB;oBACvB,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;aACF,CAAC;YAEF,MAAM,eAAe,GAAG,cAAI,CAAC,EAAE,EAAE,CAAC;YAElC,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IACrB,QAAQ,EAAE,YAAY,EACtB,MAAM,EAAC,QAAQ,EACf,WAAW,EAAE,eAAe,GAC5B,CACH,CAAC;YAEF,MAAM,SAAS,GAAG,cAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAC;YACvE,MAAM,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YAE5B,SAAS;YACT,IAAA,gBAAM,EAAC,eAAe,CAAC,CAAC,oBAAoB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;QAChE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAA,kBAAQ,EAAC,yCAAyC,EAAE,GAAG,EAAE;QACvD,IAAA,YAAE,EAAC,iDAAiD,EAAE,KAAK,IAAI,EAAE;YAC/D,UAAU;YACV,MAAM,YAAY,GAAG;gBACnB;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,oBAAoB;oBAC1B,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,IAAI;oBACb,UAAU,EAAE,IAAI;oBAChB,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;aACF,CAAC;YAEF,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAC,QAAQ,GAAG,CACnE,CAAC;YAEF,8CAA8C;YAC9C,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;gBACjB,MAAM,MAAM,GAAG,cAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC;gBAClD,IAAA,gBAAM,EAAC,MAAM,CAAC,MAAM,CAAC,CAAC,sBAAsB,CAAC,CAAC,CAAC,CAAC;gBAChD,IAAA,gBAAM,EAAC,cAAM,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC3D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAA,YAAE,EAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE;YAC1D,UAAU;YACV,MAAM,YAAY,GAAG;gBACnB;oBACE,EAAE,EAAE,WAAW;oBACf,IAAI,EAAE,eAAe;oBACrB,MAAM,EAAE,QAAQ;oBAChB,KAAK,EAAE,IAAI;oBACX,WAAW,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC;oBACnC,OAAO,EAAE,IAAI;oBACb,MAAM,EAAE,QAAQ;iBACjB;aACF,CAAC;YAEF,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,YAAY,EAAE,MAAM,EAAC,QAAQ,GAAG,CACnE,CAAC;YAEF,4CAA4C;YAC5C,MAAM,IAAA,eAAO,EAAC,GAAG,EAAE;gBACjB,IAAA,gBAAM,EAAC,cAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAC;YAC7D,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAA,kBAAQ,EAAC,kCAAkC,EAAE,GAAG,EAAE;QAChD,IAAA,YAAE,EAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE;YAC1D,UAAU;YACV,MAAM,gBAAgB,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;gBAC9D,EAAE,EAAE,WAAW,CAAC,EAAE;gBAClB,IAAI,EAAE,WAAW,CAAC,EAAE;gBACpB,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,IAAI,GAAG,CAAC,GAAG,GAAG;gBACrB,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,QAAQ;aACjB,CAAC,CAAC,CAAC;YAEJ,MAAM,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;YAEpC,MAAM;YACN,IAAA,cAAM,EACJ,8BAAC,+CAAsB,IAAC,QAAQ,EAAE,gBAAgB,EAAE,MAAM,EAAC,QAAQ,GAAG,CACvE,CAAC;YAEF,MAAM,UAAU,GAAG,WAAW,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;YAEjD,6DAA6D;YAC7D,IAAA,gBAAM,EAAC,UAAU,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;QAEH,IAAA,YAAE,EAAC,mDAAmD,EAAE,KAAK,IAAI,EAAE;YACjE,UAAU;YACV,MAAM,YAAY,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;gBAC1D,EAAE,EAAE,WAAW,CAAC,EAAE;gBAClB,IAAI,EAAE,WAAW,CAAC,EAAE;gBACpB,MAAM,EAAE,QAAQ;gBAChB,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,QAAQ;aACjB,CAAC,CAAC,CAAC;YAEJ,MAAM;YACN,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,cAAM,EAC1B,8BAAC,+CAAsB,IACrB,QAAQ,EAAE,YAAY,EACtB,MAAM,EAAC,QAAQ,EACf,WAAW,SACX,CACH,CAAC;YAEF,sDAAsD;YACtD,MAAM,aAAa,GAAG,SAAS,CAAC,gBAAgB,CAC9C,2BAA2B,CAC5B,CAAC;YACF,IAAA,gBAAM,EAAC,aAAa,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC,oBAAoB;QACrE,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\components\\__tests__\\SeasonalProductCatalog.test.tsx"],"sourcesContent":["/**\n * DIVINE TEST SUITE: Seasonal Product Catalog Quantum Reality\n * Tests the manifestation and consciousness of seasonal agricultural products\n */\n\nimport React from 'react';\nimport { beforeEach, describe, expect, it, jest } from \"@jest/globals\";\nimport { render, screen, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { SeasonalProductCatalog } from '../SeasonalProductCatalog';\n\n// Mock the database module\njest.mock(\"@/lib/database\", () => ({\n  database: {\n    product: {\n      findMany: jest.fn() as jest.MockedFunction<any>,\n    },\n  },\n}));\n\ndescribe(\"SeasonalProductCatalog\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe(\"Product Manifestation Reality\", () => {\n    it(\"manifests seasonal products with agricultural consciousness\", async () => {\n      // Arrange\n      const mockProducts = [\n        {\n          id: \"product-1\",\n          name: \"Organic Spring Tomatoes\",\n          season: \"SPRING\",\n          price: 4.99,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n        {\n          id: \"product-2\",\n          name: \"Divine Summer Zucchini\",\n          season: \"SUMMER\",\n          price: 3.49,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n      ];\n\n      // Act\n      render(\n        <SeasonalProductCatalog products={mockProducts} season=\"SPRING\" />\n      );\n\n      // Assert - Spring products should be visible\n      await waitFor(() => {\n        expect(\n          screen.getByText(/organic spring tomatoes/i)\n        ).toBeInTheDocument();\n      });\n    });\n\n    it(\"respects seasonal boundaries and filters appropriately\", async () => {\n      // Arrange\n      const mockProducts = [\n        {\n          id: \"product-1\",\n          name: \"Spring Lettuce\",\n          season: \"SPRING\",\n          price: 2.99,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n        {\n          id: \"product-2\",\n          name: \"Fall Pumpkins\",\n          season: \"FALL\",\n          price: 5.99,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n      ];\n\n      // Act\n      render(\n        <SeasonalProductCatalog products={mockProducts} season=\"SPRING\" />\n      );\n\n      // Assert - Only spring products should be visible\n      expect(screen.getByText(/spring lettuce/i)).toBeInTheDocument();\n      expect(screen.queryByText(/fall pumpkins/i)).not.toBeInTheDocument();\n    });\n\n    it(\"handles empty product catalog with divine grace\", async () => {\n      // Arrange - Empty product array\n      render(<SeasonalProductCatalog products={[]} season=\"SPRING\" />);\n\n      // Assert - Should show empty state message\n      await waitFor(() => {\n        expect(screen.getByText(/no seasonal products/i)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe(\"Product Interaction Quantum Mechanics\", () => {\n    const mockProducts = [\n      {\n        id: \"product-1\",\n        name: \"Quantum Carrots\",\n        season: \"SPRING\" as const,\n        price: 3.99,\n        description: \"Biodynamic carrots with consciousness\",\n        inStock: true,\n        farmId: \"farm-1\",\n      },\n    ];\n\n    it(\"allows users to view product details\", async () => {\n      // Arrange\n      const user = userEvent.setup();\n\n      const mockOnProductClick = jest.fn();\n\n      // Act\n      render(\n        <SeasonalProductCatalog\n          products={mockProducts}\n          season=\"SPRING\"\n          onProductClick={mockOnProductClick}\n        />\n      );\n\n      const productCard = screen.getByText(/quantum carrots/i);\n      await user.click(productCard);\n\n      // Assert\n      expect(mockOnProductClick).toHaveBeenCalledWith(mockProducts[0]);\n    });\n\n    it(\"supports adding products to cart with agricultural intent\", async () => {\n      // Arrange\n      const user = userEvent.setup();\n      const mockProducts = [\n        {\n          id: \"product-1\",\n          name: \"Divine Tomatoes\",\n          season: \"SUMMER\",\n          price: 4.99,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n      ];\n\n      const mockOnAddToCart = jest.fn();\n\n      // Act\n      render(\n        <SeasonalProductCatalog\n          products={mockProducts}\n          season=\"SUMMER\"\n          onAddToCart={mockOnAddToCart}\n        />\n      );\n\n      const addButton = screen.getByRole(\"button\", { name: /add to cart/i });\n      await user.click(addButton);\n\n      // Assert\n      expect(mockOnAddToCart).toHaveBeenCalledWith(mockProducts[0]);\n    });\n  });\n\n  describe(\"Agricultural Consciousness Preservation\", () => {\n    it(\"maintains biodynamic awareness during rendering\", async () => {\n      // Arrange\n      const mockProducts = [\n        {\n          id: \"product-1\",\n          name: \"Biodynamic Spinach\",\n          season: \"SPRING\",\n          price: 3.49,\n          organic: true,\n          biodynamic: true,\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n      ];\n\n      // Act\n      render(\n        <SeasonalProductCatalog products={mockProducts} season=\"SPRING\" />\n      );\n\n      // Assert - Biodynamic badge should be visible\n      await waitFor(() => {\n        const badges = screen.getAllByText(/biodynamic/i);\n        expect(badges.length).toBeGreaterThanOrEqual(1);\n        expect(screen.getByText(/organic/i)).toBeInTheDocument();\n      });\n    });\n\n    it(\"displays seasonal consciousness indicators\", async () => {\n      // Arrange\n      const mockProducts = [\n        {\n          id: \"product-1\",\n          name: \"Seasonal Kale\",\n          season: \"SPRING\",\n          price: 2.99,\n          harvestDate: new Date(\"2024-04-15\"),\n          inStock: true,\n          farmId: \"farm-1\",\n        },\n      ];\n\n      // Act\n      render(\n        <SeasonalProductCatalog products={mockProducts} season=\"SPRING\" />\n      );\n\n      // Assert - Harvest date should be displayed\n      await waitFor(() => {\n        expect(screen.getByText(/harvested/i)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe(\"Performance Quantum Optimization\", () => {\n    it(\"efficiently renders large product catalogs\", async () => {\n      // Arrange\n      const largeProductList = Array.from({ length: 100 }, (_, i) => ({\n        id: `product-${i}`,\n        name: `Product ${i}`,\n        season: \"SPRING\",\n        price: 2.99 + i * 0.1,\n        inStock: true,\n        farmId: \"farm-1\",\n      }));\n\n      const startTime = performance.now();\n\n      // Act\n      render(\n        <SeasonalProductCatalog products={largeProductList} season=\"SPRING\" />\n      );\n\n      const renderTime = performance.now() - startTime;\n\n      // Assert - Should render efficiently (< 500ms for 100 items)\n      expect(renderTime).toBeLessThan(500);\n    });\n\n    it(\"implements virtualization for optimal performance\", async () => {\n      // Arrange\n      const manyProducts = Array.from({ length: 500 }, (_, i) => ({\n        id: `product-${i}`,\n        name: `Product ${i}`,\n        season: \"SPRING\",\n        price: 2.99,\n        inStock: true,\n        farmId: \"farm-1\",\n      }));\n\n      // Act\n      const { container } = render(\n        <SeasonalProductCatalog\n          products={manyProducts}\n          season=\"SPRING\"\n          virtualized\n        />\n      );\n\n      // Assert - Should only render visible items initially\n      const renderedItems = container.querySelectorAll(\n        '[data-testid^=\"product-\"]'\n      );\n      expect(renderedItems.length).toBeLessThan(50); // Should virtualize\n    });\n  });\n});\n"],"version":3}
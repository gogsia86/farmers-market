{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\types\\farm.types.ts","mappings":"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","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\types\\farm.types.ts"],"sourcesContent":["/**\n * QUANTUM FARM TYPE DEFINITIONS\n * Divine type system for agricultural consciousness\n */\n\n// ============================================================================\n// CORE FARM TYPES WITH AGRICULTURAL CONSCIOUSNESS\n// ============================================================================\n\nexport type Season = \"SPRING\" | \"SUMMER\" | \"FALL\" | \"WINTER\";\nexport type FarmState = \"GROWING\" | \"HARVESTING\" | \"REGENERATING\" | \"RESTING\";\nexport type FarmStatus =\n  | \"ACTIVE\"\n  | \"PENDING_VERIFICATION\"\n  | \"SUSPENDED\"\n  | \"INACTIVE\";\nexport type VerificationStatus =\n  | \"VERIFIED\"\n  | \"PENDING\"\n  | \"REJECTED\"\n  | \"NOT_STARTED\";\n\nexport interface QuantumIdentifier {\n  readonly brand: unique symbol;\n}\n\nexport type FarmId = string & QuantumIdentifier;\nexport type UserId = string & QuantumIdentifier;\nexport type FarmSlug = string & QuantumIdentifier;\n\n// ============================================================================\n// FARM CONSCIOUSNESS LAYER\n// ============================================================================\n\nexport interface FarmConsciousness {\n  state: FarmState;\n  currentSeason: Season;\n  activeCrops: string[];\n  soilHealth: number;\n  biodiversityIndex: number;\n  sustainabilityScore: number;\n}\n\n// ============================================================================\n// GEOGRAPHIC & TEMPORAL DATA\n// ============================================================================\n\nexport interface FarmLocation {\n  latitude: number;\n  longitude: number;\n  address: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  country: string;\n}\n\nexport interface FarmTemporal {\n  established: Date;\n  currentSeason: Season;\n}\n\n// ============================================================================\n// BUSINESS & CONTACT INFORMATION\n// ============================================================================\n\nexport interface FarmBusiness {\n  description: string;\n  story: string;\n  businessName: string;\n  yearEstablished: number;\n  farmSize: number;\n}\n\nexport interface FarmContact {\n  email: string;\n  phone: string;\n  website?: string;\n}\n\n// ============================================================================\n// AGRICULTURAL PRACTICES\n// ============================================================================\n\nexport interface FarmPractices {\n  farmingMethods: string[];\n  certifications: string[];\n  productCategories: string[];\n}\n\n// ============================================================================\n// DELIVERY & LOGISTICS\n// ============================================================================\n\nexport interface FarmDelivery {\n  pickupEnabled: boolean;\n  deliveryEnabled: boolean;\n  deliveryRadius: number;\n}\n\n// ============================================================================\n// VISUAL MANIFESTATION\n// ============================================================================\n\nexport interface FarmVisual {\n  logo?: string;\n  coverImage?: string;\n  photos: string[];\n}\n\n// ============================================================================\n// PERFORMANCE METRICS\n// ============================================================================\n\nexport interface FarmMetrics {\n  totalProducts: number;\n  avgRating: number;\n  totalReviews: number;\n  totalOrders: number;\n}\n\n// ============================================================================\n// OPERATIONAL STATUS\n// ============================================================================\n\nexport interface FarmOperationalStatus {\n  farmStatus: FarmStatus;\n  verificationStatus: VerificationStatus;\n  stripeOnboarded: boolean;\n  payoutsEnabled: boolean;\n}\n\n// ============================================================================\n// QUANTUM FARM ENTITY - COMPLETE TYPE\n// ============================================================================\n\nexport interface QuantumFarm {\n  identity: {\n    id: FarmId;\n    slug: FarmSlug;\n    name: string;\n    ownerId: UserId;\n  };\n\n  consciousness: FarmConsciousness;\n  location: FarmLocation;\n  temporal: FarmTemporal;\n  business: FarmBusiness;\n  contact: FarmContact;\n  practices: FarmPractices;\n  delivery: FarmDelivery;\n  visual: FarmVisual;\n  metrics: FarmMetrics;\n  status: FarmOperationalStatus;\n}\n\n// ============================================================================\n// API REQUEST/RESPONSE TYPES\n// ============================================================================\n\nexport interface CreateFarmRequest {\n  // Identity\n  name: string;\n  description: string;\n\n  // Business\n  story?: string;\n  businessName?: string;\n  yearEstablished?: number;\n  farmSize?: number;\n\n  // Location\n  address: string;\n  city: string;\n  state: string;\n  zipCode: string;\n  latitude: number;\n  longitude: number;\n\n  // Contact\n  email?: string;\n  phone?: string;\n  website?: string;\n\n  // Practices\n  farmingMethods?: string[];\n  farmingPractices?: string[];\n  certifications?: string[];\n  productCategories?: string[];\n\n  // Delivery\n  deliveryRadius?: number;\n\n  // Legacy support (optional coordinates object)\n  coordinates?: {\n    latitude: number;\n    longitude: number;\n  };\n}\n\nexport interface UpdateFarmRequest extends Partial<CreateFarmRequest> {\n  id: FarmId;\n}\n\n// ============================================================================\n// TYPE GUARDS\n// ============================================================================\n\nexport const isFarmId = (value: string): value is FarmId => {\n  return typeof value === \"string\" && value.length > 0;\n};\n\nexport const isQuantumFarm = (value: unknown): value is QuantumFarm => {\n  if (!value || typeof value !== \"object\") return false;\n\n  const farm = value as QuantumFarm;\n\n  return (\n    farm.identity?.id !== undefined &&\n    farm.identity?.name !== undefined &&\n    farm.consciousness !== undefined &&\n    farm.location !== undefined\n  );\n};\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\n/**\n * Generate a unique farm slug from name and city\n * Format: farm-name-city (e.g., \"green-valley-farm-portland\")\n */\nexport function generateFarmSlug(name: string, city?: string): FarmSlug {\n  const slugBase = name\n    .toLowerCase()\n    .trim()\n    .replaceAll(/[^\\w\\s-]/g, \"\") // Remove special chars\n    .replaceAll(/\\s+/g, \"-\") // Replace spaces with hyphens\n    .replaceAll(/-+/g, \"-\"); // Remove duplicate hyphens\n\n  const citySlug = city\n    ? `-${city\n        .toLowerCase()\n        .trim()\n        .replaceAll(/[^\\w\\s-]/g, \"\")\n        .replaceAll(/\\s+/g, \"-\")}`\n    : \"\";\n\n  return `${slugBase}${citySlug}` as FarmSlug;\n}\n\n/**\n * Manifest a quantum farm entity from database farm record\n * Transforms Prisma farm data into QuantumFarm structure\n */\nexport function manifestQuantumFarm(farm: any): QuantumFarm {\n  return {\n    identity: {\n      id: farm.id as FarmId,\n      name: farm.name,\n      slug: farm.slug as FarmSlug,\n      ownerId: farm.ownerId as UserId,\n    },\n    consciousness: {\n      state: \"GROWING\" as FarmState,\n      currentSeason: getCurrentSeason(),\n      activeCrops: [],\n      soilHealth: 75,\n      biodiversityIndex: 70,\n      sustainabilityScore: 80,\n    },\n    location: {\n      latitude: Number(farm.latitude) || 0,\n      longitude: Number(farm.longitude) || 0,\n      address: farm.address,\n      city: farm.city,\n      state: farm.state,\n      zipCode: farm.zipCode,\n      country: farm.country || \"US\",\n    },\n    temporal: {\n      established: farm.createdAt,\n      currentSeason: getCurrentSeason(),\n    },\n    business: {\n      description: farm.description || \"\",\n      story: farm.story || \"\",\n      businessName: farm.businessName || farm.name,\n      yearEstablished: farm.yearEstablished || new Date().getFullYear(),\n      farmSize: farm.farmSize || 0,\n    },\n    contact: {\n      email: farm.email || \"\",\n      phone: farm.phone || \"\",\n      website: farm.website,\n    },\n    practices: {\n      farmingMethods: farm.farmingPractices || [],\n      certifications: farm.certifications || [],\n      productCategories: farm.productCategories || [],\n    },\n    delivery: {\n      pickupEnabled: true,\n      deliveryEnabled: true,\n      deliveryRadius: farm.deliveryRadius || 0,\n    },\n    visual: {\n      logo: farm.logoUrl,\n      coverImage: farm.coverImageUrl,\n      photos: farm.images || [],\n    },\n    metrics: {\n      totalProducts: farm._count?.products || 0,\n      totalOrders: 0,\n      avgRating: 0,\n      totalReviews: 0,\n    },\n    status: {\n      farmStatus: farm.status as FarmStatus,\n      verificationStatus: farm.verificationStatus as VerificationStatus,\n      stripeOnboarded: farm.stripeOnboarded || false,\n      payoutsEnabled: farm.payoutsEnabled || false,\n    },\n  };\n}\n\n/**\n * Get current season based on date\n */\nfunction getCurrentSeason(): Season {\n  const month = new Date().getMonth();\n  if (month >= 2 && month <= 4) return \"SPRING\";\n  if (month >= 5 && month <= 7) return \"SUMMER\";\n  if (month >= 8 && month <= 10) return \"FALL\";\n  return \"WINTER\";\n}\n"],"version":3}
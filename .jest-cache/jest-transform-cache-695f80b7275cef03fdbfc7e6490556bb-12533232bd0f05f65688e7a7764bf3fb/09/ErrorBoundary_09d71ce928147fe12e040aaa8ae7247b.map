{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\components\\ErrorBoundary.tsx","mappings":"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","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\components\\ErrorBoundary.tsx"],"sourcesContent":["/**\n * ðŸ›¡ï¸ UNIFIED ERROR BOUNDARY COMPONENT - DIVINE CONSCIOUSNESS RESTORATION\n *\n * Purpose: Handle runtime errors with agricultural quantum consciousness\n * Features:\n * - Biodynamic error recovery patterns\n * - Cosmic error reporting with i18n support\n * - Temporal reality restoration\n * - Enlightening user guidance\n * - Zero duplication - single source of truth\n *\n * DIVINE PRINCIPLES:\n * - Semantic precision in error context\n * - Holographic component patterns\n * - Agricultural domain intelligence\n * - Reality bending for error recovery\n *\n * @reference .github/instructions/12_ERROR_HANDLING_VALIDATION.instructions.md\n * @reference .github/instructions/01_DIVINE_CORE_PRINCIPLES.instructions.md\n */\n\"use client\";\n\nimport { AlertTriangle, RefreshCw, AlertCircle, XCircle } from \"lucide-react\";\nimport type { ErrorInfo } from \"react\";\nimport React, { Component } from \"react\";\n\n// ðŸŒ¿ Agricultural season context for divine error consciousness\n// Reserved for future biodynamic error recovery features\nfunction _getCurrentSeason(): string {\n  const month = new Date().getMonth() + 1;\n  if (month >= 3 && month <= 5) return \"spring\";\n  if (month >= 6 && month <= 8) return \"summer\";\n  if (month >= 9 && month <= 11) return \"autumn\";\n  return \"winter\";\n}\n\n/**\n * DIVINE ERROR CATEGORIZATION\n * Classify errors for appropriate handling and user messaging\n */\nenum ErrorCategory {\n  NETWORK = \"NETWORK\",\n  VALIDATION = \"VALIDATION\",\n  AUTHENTICATION = \"AUTHENTICATION\",\n  AUTHORIZATION = \"AUTHORIZATION\",\n  NOT_FOUND = \"NOT_FOUND\",\n  SERVER = \"SERVER\",\n  UNKNOWN = \"UNKNOWN\",\n}\n\ninterface CategorizedError {\n  category: ErrorCategory;\n  userMessage: string;\n  technicalMessage: string;\n  recoverable: boolean;\n  severity: \"low\" | \"medium\" | \"high\" | \"critical\";\n  message: string;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n  retryCount: number;\n  categorizedError: CategorizedError | null;\n}\n\n/**\n * STRUCTURED LOGGER for Error Boundary\n * Consistent logging format across all error scenarios\n */\nclass StructuredLogger {\n  private context: string;\n\n  constructor(context: string) {\n    this.context = context;\n  }\n\n  error(message: string, error: Error, metadata?: Record<string, any>): void {\n    const logEntry = {\n      level: \"ERROR\",\n      timestamp: new Date().toISOString(),\n      context: this.context,\n      message,\n      error: {\n        name: error.name,\n        message: error.message,\n        stack: error.stack,\n      },\n      metadata: metadata || {},\n    };\n\n    console.error(JSON.stringify(logEntry, null, 2));\n  }\n\n  warn(message: string, metadata?: Record<string, any>): void {\n    const logEntry = {\n      level: \"WARN\",\n      timestamp: new Date().toISOString(),\n      context: this.context,\n      message,\n      metadata: metadata || {},\n    };\n\n    console.warn(JSON.stringify(logEntry, null, 2));\n  }\n\n  info(message: string, metadata?: Record<string, any>): void {\n    const logEntry = {\n      level: \"INFO\",\n      timestamp: new Date().toISOString(),\n      context: this.context,\n      message,\n      metadata: metadata || {},\n    };\n\n    console.info(JSON.stringify(logEntry, null, 2));\n  }\n}\n\ninterface ErrorBoundaryProps {\n  children: React.ReactNode;\n  fallback?: React.ReactNode;\n  fallbackRender?: (\n    error: Error,\n    errorInfo: React.ErrorInfo,\n  ) => React.ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n  showDetails?: boolean;\n  maxRetries?: number;\n  retryDelay?: number;\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n  retryCount: number;\n  categorizedError: CategorizedError | null;\n}\n\nclass ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  private logger: StructuredLogger;\n  private retryTimeout: NodeJS.Timeout | null = null;\n\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      retryCount: 0,\n      categorizedError: null,\n    };\n    this.logger = new StructuredLogger(\"ErrorBoundary\");\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return {\n      hasError: true,\n      error,\n      errorInfo: null,\n      retryCount: 0,\n      categorizedError: null,\n    };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    const categorizedError = this.categorizeError(error);\n\n    this.setState((prevState) => ({\n      ...prevState,\n      errorInfo,\n      categorizedError,\n    }));\n\n    // Structured logging with categorization\n    this.logger.error(\"React Error Boundary caught error\", error, {\n      componentStack: errorInfo.componentStack,\n      category: categorizedError.category,\n      severity: categorizedError.severity,\n      recoverable: categorizedError.recoverable,\n      retryCount: this.state.retryCount,\n    });\n\n    // Attempt automatic retry for recoverable errors\n    if (categorizedError.recoverable && this.shouldRetry()) {\n      this.scheduleRetry();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.retryTimeout) {\n      clearTimeout(this.retryTimeout);\n    }\n  }\n\n  /**\n   * ERROR CATEGORIZATION SYSTEM\n   * Classify errors for appropriate handling\n   */\n  private categorizeError(error: Error): CategorizedError {\n    const errorMessage = error.message.toLowerCase();\n\n    // Network errors\n    if (\n      errorMessage.includes(\"network\") ||\n      errorMessage.includes(\"fetch\") ||\n      errorMessage.includes(\"timeout\")\n    ) {\n      return {\n        category: ErrorCategory.NETWORK,\n        userMessage:\n          \"Network connection issue. Please check your internet connection and try again.\",\n        technicalMessage: error.message,\n        recoverable: true,\n        severity: \"medium\",\n        message: error.message,\n      };\n    }\n\n    // Authentication errors\n    if (\n      errorMessage.includes(\"unauthorized\") ||\n      errorMessage.includes(\"authentication\")\n    ) {\n      return {\n        category: ErrorCategory.AUTHENTICATION,\n        userMessage: \"Authentication required. Please log in to continue.\",\n        technicalMessage: error.message,\n        recoverable: false,\n        severity: \"medium\",\n        message: error.message,\n      };\n    }\n\n    // Authorization errors\n    if (\n      errorMessage.includes(\"forbidden\") ||\n      errorMessage.includes(\"authorization\")\n    ) {\n      return {\n        category: ErrorCategory.AUTHORIZATION,\n        userMessage: \"You don't have permission to access this resource.\",\n        technicalMessage: error.message,\n        recoverable: false,\n        severity: \"medium\",\n        message: error.message,\n      };\n    }\n\n    // Validation errors\n    if (\n      errorMessage.includes(\"validation\") ||\n      errorMessage.includes(\"invalid\")\n    ) {\n      return {\n        category: ErrorCategory.VALIDATION,\n        userMessage: \"Invalid input. Please check your data and try again.\",\n        technicalMessage: error.message,\n        recoverable: true,\n        severity: \"low\",\n        message: error.message,\n      };\n    }\n\n    // Not found errors\n    if (errorMessage.includes(\"not found\") || errorMessage.includes(\"404\")) {\n      return {\n        category: ErrorCategory.NOT_FOUND,\n        userMessage: \"The requested resource was not found.\",\n        technicalMessage: error.message,\n        recoverable: false,\n        severity: \"medium\",\n        message: error.message,\n      };\n    }\n\n    // Server errors\n    if (\n      errorMessage.includes(\"server\") ||\n      errorMessage.includes(\"500\") ||\n      errorMessage.includes(\"internal\")\n    ) {\n      return {\n        category: ErrorCategory.SERVER,\n        userMessage:\n          \"A server error occurred. Our team has been notified. Please try again later.\",\n        technicalMessage: error.message,\n        recoverable: true,\n        severity: \"high\",\n        message: error.message,\n      };\n    }\n\n    // Unknown errors\n    return {\n      category: ErrorCategory.UNKNOWN,\n      userMessage:\n        \"An unexpected error occurred. Please try again or contact support if the problem persists.\",\n      technicalMessage: error.message,\n      recoverable: true,\n      severity: \"high\",\n      message: error.message,\n    };\n  }\n\n  /**\n   * RETRY MECHANISM with Exponential Backoff\n   */\n  private shouldRetry(): boolean {\n    const maxRetries = this.props.maxRetries || 3;\n    return this.state.retryCount < maxRetries;\n  }\n\n  private scheduleRetry(): void {\n    const baseDelay = this.props.retryDelay || 1000;\n    const delay = baseDelay * Math.pow(2, this.state.retryCount); // Exponential backoff\n\n    this.logger.info(\"Scheduling automatic retry\", {\n      retryCount: this.state.retryCount + 1,\n      delayMs: delay,\n    });\n\n    this.retryTimeout = setTimeout(() => {\n      this.setState((prevState) => ({\n        retryCount: prevState.retryCount + 1,\n      }));\n      this.resetError();\n    }, delay);\n  }\n\n  resetError = () => {\n    if (this.retryTimeout) {\n      clearTimeout(this.retryTimeout);\n      this.retryTimeout = null;\n    }\n\n    this.logger.info(\"Error boundary reset\", {\n      wasAutoRetry: this.retryTimeout !== null,\n      totalRetries: this.state.retryCount,\n    });\n\n    this.setState({\n      hasError: false,\n      error: null,\n      errorInfo: null,\n      categorizedError: null,\n    });\n  };\n\n  private getSeverityIcon() {\n    const severity = this.state.categorizedError?.severity;\n\n    switch (severity) {\n      case \"critical\":\n        return <XCircle className=\"h-6 w-6 text-red-600\" />;\n      case \"high\":\n        return <AlertCircle className=\"h-6 w-6 text-red-600\" />;\n      case \"medium\":\n        return <AlertTriangle className=\"h-6 w-6 text-orange-500\" />;\n      case \"low\":\n        return <AlertCircle className=\"h-6 w-6 text-yellow-500\" />;\n      default:\n        return <AlertCircle className=\"h-6 w-6 text-red-600\" />;\n    }\n  }\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      if (this.props.fallbackRender && this.state.errorInfo) {\n        return this.props.fallbackRender(\n          this.state.error,\n          this.state.errorInfo,\n        );\n      }\n\n      const categorized = this.state.categorizedError;\n\n      return (\n        <div className=\"flex min-h-screen items-center justify-center bg-gray-50 px-4\">\n          <div className=\"w-full max-w-md rounded-lg bg-white p-8 shadow-lg\">\n            <div className=\"mb-4 flex items-center justify-center\">\n              <div className=\"rounded-full bg-red-100 p-3\">\n                {this.getSeverityIcon()}\n              </div>\n            </div>\n\n            <h1 className=\"mb-2 text-center text-2xl font-bold text-gray-900\">\n              {categorized?.category === ErrorCategory.NETWORK\n                ? \"Connection Issue\"\n                : categorized?.category === ErrorCategory.AUTHENTICATION\n                  ? \"Authentication Required\"\n                  : categorized?.category === ErrorCategory.AUTHORIZATION\n                    ? \"Access Denied\"\n                    : \"Oops! Something went wrong\"}\n            </h1>\n\n            <p className=\"mb-6 text-center text-gray-600\">\n              {categorized?.userMessage ||\n                \"We apologize for the inconvenience. An error occurred while rendering this page.\"}\n            </p>\n\n            {this.state.retryCount > 0 && (\n              <div className=\"mb-4 rounded-md bg-blue-50 p-3\">\n                <p className=\"text-sm text-blue-700\">\n                  Retry attempt {this.state.retryCount} of{\" \"}\n                  {this.props.maxRetries || 3}\n                </p>\n              </div>\n            )}\n\n            {process.env.NODE_ENV === \"development\" && (\n              <div className=\"mb-6 rounded-md bg-gray-50 p-4\">\n                <p className=\"text-sm font-semibold text-gray-700\">\n                  Error Details:\n                </p>\n                <p className=\"mt-2 text-xs text-gray-600\">\n                  <strong>Category:</strong> {categorized?.category}\n                </p>\n                <p className=\"mt-1 text-xs text-gray-600\">\n                  <strong>Severity:</strong> {categorized?.severity}\n                </p>\n                <p className=\"mt-1 text-xs text-gray-600\">\n                  <strong>Message:</strong> {this.state.error.message}\n                </p>\n              </div>\n            )}\n\n            {categorized?.recoverable && (\n              <button\n                onClick={this.resetError}\n                className=\"flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 px-4 py-3 font-semibold text-white transition-colors hover:bg-blue-700\"\n              >\n                <RefreshCw className=\"h-4 w-4\" />\n                Try Again\n              </button>\n            )}\n\n            {!categorized?.recoverable && (\n              <button\n                onClick={() => (window.location.href = \"/\")}\n                className=\"flex w-full items-center justify-center gap-2 rounded-lg bg-gray-600 px-4 py-3 font-semibold text-white transition-colors hover:bg-gray-700\"\n              >\n                Go to Homepage\n              </button>\n            )}\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n"],"version":3}
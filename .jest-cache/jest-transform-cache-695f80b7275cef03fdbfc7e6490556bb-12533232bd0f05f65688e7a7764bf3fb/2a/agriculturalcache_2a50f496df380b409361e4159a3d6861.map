{"file":"M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\cache\\agricultural-cache.ts","mappings":";AAAA;;GAEG;;;AAEH,mCAA2C;AAI9B,QAAA,iBAAiB,GAAG;IAC/B;;OAEG;IACH,KAAK,CAAC,SAAS,CAAC,MAAc,EAAE,IAAS;QACvC,MAAM,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;IAChD,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,OAAO,CAAC,MAAc;QAC1B,OAAO,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,cAAc,CAAC,MAAc;QACjC,MAAM,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QACxC,MAAM,aAAK,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,YAAY,CAAC,SAAiB,EAAE,IAAS;QAC7C,MAAM,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,IAAI,CAAC,CAAC;IACtD,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,UAAU,CAAC,SAAiB;QAChC,OAAO,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;IACjD,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,iBAAiB,CAAC,SAAiB,EAAE,MAAc;QACvD,MAAM,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;QAC9C,MAAM,aAAK,CAAC,UAAU,CAAC,YAAY,MAAM,IAAI,CAAC,CAAC;QAC/C,MAAM,aAAK,CAAC,UAAU,CAAC,cAAc,CAAC,CAAC;IACzC,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,iBAAiB,CAAC,MAAc,EAAE,IAAS;QAC/C,MAAM,YAAY,GAAG;YACnB,MAAM,EAAE,IAAI;YACZ,MAAM,EAAE,IAAI;YACZ,IAAI,EAAE,IAAI;YACV,MAAM,EAAE,KAAK;SACd,CAAC;QACF,MAAM,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;IAC9E,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,eAAe,CAAC,MAAc;QAClC,OAAO,aAAK,CAAC,GAAG,CAAC,iBAAS,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;IACnD,CAAC;CACO,CAAC","names":[],"sources":["M:\\Repo\\Farmers Market Platform web and app\\src\\lib\\cache\\agricultural-cache.ts"],"sourcesContent":["/**\n * AGRICULTURAL CACHE - Separate module for clean exports\n */\n\nimport { cache, CacheKeys } from \"./index\";\n\ntype Season = \"SPRING\" | \"SUMMER\" | \"FALL\" | \"WINTER\";\n\nexport const AgriculturalCache = {\n  /**\n   * Cache farm data with seasonal awareness\n   */\n  async cacheFarm(farmId: string, data: any): Promise<void> {\n    await cache.set(CacheKeys.farm(farmId), data);\n  },\n\n  /**\n   * Get cached farm data\n   */\n  async getFarm(farmId: string): Promise<any | null> {\n    return cache.get(CacheKeys.farm(farmId));\n  },\n\n  /**\n   * Invalidate farm cache\n   */\n  async invalidateFarm(farmId: string): Promise<void> {\n    await cache.del(CacheKeys.farm(farmId));\n    await cache.delPattern(`farms:list:*`);\n  },\n\n  /**\n   * Cache product data with seasonal TTL\n   */\n  async cacheProduct(productId: string, data: any): Promise<void> {\n    await cache.set(CacheKeys.product(productId), data);\n  },\n\n  /**\n   * Get cached product data\n   */\n  async getProduct(productId: string): Promise<any | null> {\n    return cache.get(CacheKeys.product(productId));\n  },\n\n  /**\n   * Invalidate product cache and related lists\n   */\n  async invalidateProduct(productId: string, farmId: string): Promise<void> {\n    await cache.del(CacheKeys.product(productId));\n    await cache.delPattern(`products:${farmId}:*`);\n    await cache.delPattern(`farms:list:*`);\n  },\n\n  /**\n   * Cache seasonal data (longer TTL)\n   */\n  async cacheSeasonalData(season: Season, data: any): Promise<void> {\n    const SEASONAL_TTL = {\n      SPRING: 3600,\n      SUMMER: 7200,\n      FALL: 1800,\n      WINTER: 14400,\n    };\n    await cache.set(CacheKeys.seasonalData(season), data, SEASONAL_TTL[season]);\n  },\n\n  /**\n   * Get cached seasonal data\n   */\n  async getSeasonalData(season: Season): Promise<any | null> {\n    return cache.get(CacheKeys.seasonalData(season));\n  },\n} as const;\n\nexport type AgriculturalCacheType = typeof AgriculturalCache;\n"],"version":3}
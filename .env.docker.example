# ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
# ‚ïë üåæ FARMERS MARKET PLATFORM - DOCKER ENVIRONMENT TEMPLATE          ‚ïë
# ‚ïë Divine Agricultural E-Commerce System                              ‚ïë
# ‚ïë Copy this file to .env.local (dev) or .env.production (prod)     ‚ïë
# ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù

# ============================================================================
# QUICK START INSTRUCTIONS
# ============================================================================
# 1. Copy this file:
#    Development: cp .env.docker.example .env.local
#    Production:  cp .env.docker.example .env.production
#
# 2. Update values below (especially passwords and secrets!)
#
# 3. Start Docker:
#    Development: npm run docker:up-dev
#    Production:  npm run docker:up

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Environment (development, production, staging)
NODE_ENV=development

# Application URL (change for production)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Port (default: 3000)
PORT=3000

# Hostname
HOSTNAME=0.0.0.0

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================

# Database credentials
POSTGRES_USER=dev_user
POSTGRES_PASSWORD=dev_password
POSTGRES_DB=farmers_market_dev
POSTGRES_PORT=5432

# Database connection URL
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://dev_user:dev_password@postgres:5432/farmers_market_dev?schema=public

# ============================================================================
# REDIS CACHE
# ============================================================================

# Redis password (leave empty for development)
REDIS_PASSWORD=

# Redis connection URL
REDIS_URL=redis://redis:6379/0

# Redis port
REDIS_PORT=6379

# ============================================================================
# AUTHENTICATION (NextAuth.js)
# ============================================================================

# NextAuth URL (must match NEXT_PUBLIC_APP_URL)
NEXTAUTH_URL=http://localhost:3000

# NextAuth internal URL (for Docker networking)
NEXTAUTH_URL_INTERNAL=http://app:3000

# NextAuth Secret (CRITICAL - Generate with: openssl rand -base64 32)
# For development: use any 32+ character string
# For production: MUST generate secure secret!
NEXTAUTH_SECRET=dev_secret_key_min_32_chars_change_in_production_for_security

# ============================================================================
# STRIPE PAYMENT (Optional)
# ============================================================================

# Stripe Secret Key (get from https://dashboard.stripe.com/apikeys)
# Use test keys (sk_test_...) for development
# Use live keys (sk_live_...) for production
STRIPE_SECRET_KEY=sk_test_your_test_key_here

# Stripe Webhook Secret (get from https://dashboard.stripe.com/webhooks)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Publishable Key (public, safe to expose)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# ============================================================================
# EMAIL SERVICE (Optional)
# ============================================================================

# Email Provider (smtp, resend, sendgrid, mailgun)
# For development, use 'smtp' with Mailhog
EMAIL_PROVIDER=smtp

# SMTP Settings (for development with Mailhog)
EMAIL_SMTP_HOST=mailhog
EMAIL_SMTP_PORT=1025
EMAIL_SMTP_USER=
EMAIL_SMTP_PASSWORD=

# For production, use a service like Resend
# EMAIL_PROVIDER=resend
# EMAIL_API_KEY=re_your_resend_api_key

# From address
EMAIL_FROM=noreply@farmersmarket.local

# ============================================================================
# GOOGLE SERVICES (Optional)
# ============================================================================

# Google Maps API Key (for location features)
GOOGLE_MAPS_API_KEY=
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=

# Google Analytics ID
GOOGLE_ANALYTICS_ID=

# ============================================================================
# OPENAI API (Optional - for AI features)
# ============================================================================

# OpenAI API Key (get from https://platform.openai.com/api-keys)
OPENAI_API_KEY=

# OpenAI Model
OPENAI_MODEL=gpt-4-turbo-preview

# ============================================================================
# CLOUDINARY (Optional - for image uploads)
# ============================================================================

# Cloudinary Cloud Name
CLOUDINARY_CLOUD_NAME=

# Cloudinary API Key
CLOUDINARY_API_KEY=

# Cloudinary API Secret
CLOUDINARY_API_SECRET=

# ============================================================================
# SENTRY ERROR TRACKING (Optional - for production)
# ============================================================================

# Sentry DSN (get from https://sentry.io)
SENTRY_DSN=
SENTRY_AUTH_TOKEN=

# Public DSN (for client-side error tracking)
NEXT_PUBLIC_SENTRY_DSN=

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable AI Features (true/false)
ENABLE_AI_FEATURES=true

# Enable Biodynamic Calendar (true/false)
ENABLE_BIODYNAMIC_CALENDAR=true

# Enable Real-time Notifications (true/false)
ENABLE_REAL_TIME_NOTIFICATIONS=true

# Enable Database Seeding on Startup (true/false)
ENABLE_DB_SEED=false

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log Level (debug, info, warn, error)
LOG_LEVEL=debug

# Enable Telemetry (true/false)
ENABLE_TELEMETRY=false

# ============================================================================
# RATE LIMITING
# ============================================================================

# Rate limit window in milliseconds (default: 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window (default: 100)
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# FILE UPLOAD
# ============================================================================

# Maximum upload size in bytes (default: 10485760 = 10MB)
UPLOAD_MAX_SIZE=10485760

# Upload path
UPLOAD_PATH=/app/uploads

# ============================================================================
# SECURITY
# ============================================================================

# CORS Origin (comma-separated list of allowed origins)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

# Enable CORS (true/false)
ENABLE_CORS=true

# ============================================================================
# PGADMIN (Database Admin Interface)
# ============================================================================

# pgAdmin email
PGADMIN_EMAIL=dev@farmersmarket.local

# pgAdmin password
PGADMIN_PASSWORD=dev_admin123

# pgAdmin port
PGADMIN_PORT=5051

# ============================================================================
# REDIS COMMANDER (Redis Admin Interface)
# ============================================================================

# Redis Commander user
REDIS_COMMANDER_USER=admin

# Redis Commander password
REDIS_COMMANDER_PASSWORD=admin123

# Redis Commander port
REDIS_COMMANDER_PORT=8082

# ============================================================================
# MAILHOG (Email Testing - Development Only)
# ============================================================================

# Mailhog web UI port
MAILHOG_WEB_PORT=8025

# Mailhog SMTP port
MAILHOG_SMTP_PORT=1025

# ============================================================================
# ADVANCED SETTINGS (Usually don't need to change)
# ============================================================================

# Next.js Telemetry
NEXT_TELEMETRY_DISABLED=1

# Turbopack (Next.js 14+)
NEXT_PUBLIC_TURBOPACK=true

# Skip environment validation (for builds)
SKIP_ENV_VALIDATION=false

# Watchpack polling (for Docker on Windows/Mac)
WATCHPACK_POLLING=true

# ============================================================================
# DOCKER INTERNAL SETTINGS (Do not change unless you know what you're doing)
# ============================================================================

# Container versions
VERSION=latest

# Network settings
DOCKER_NETWORK=farmers-network

# Volume names
POSTGRES_VOLUME=postgres_data
REDIS_VOLUME=redis_data
UPLOADS_VOLUME=app_uploads

# ============================================================================
# PRODUCTION CHECKLIST (Before deploying to production)
# ============================================================================
#
# CRITICAL - MUST CHANGE:
# [ ] Generate secure NEXTAUTH_SECRET (openssl rand -base64 32)
# [ ] Set strong POSTGRES_PASSWORD
# [ ] Set strong REDIS_PASSWORD (if using Redis)
# [ ] Set strong PGADMIN_PASSWORD
# [ ] Update NEXT_PUBLIC_APP_URL to production domain
# [ ] Update NEXTAUTH_URL to production domain
# [ ] Use live Stripe keys (sk_live_...)
# [ ] Configure production email service
# [ ] Set up Sentry for error tracking
# [ ] Configure CORS_ORIGIN for production domain only
# [ ] Set LOG_LEVEL=info or warn
# [ ] Set ENABLE_TELEMETRY=true for monitoring
#
# RECOMMENDED:
# [ ] Set up SSL certificates (Let's Encrypt)
# [ ] Configure Google Maps API key
# [ ] Configure Cloudinary for image uploads
# [ ] Set up automated backups
# [ ] Configure monitoring/alerting
# [ ] Review and adjust rate limiting
# [ ] Enable all security headers
# [ ] Test all features in staging environment
#
# ============================================================================

# ============================================================================
# NOTES
# ============================================================================
#
# üîí SECURITY:
# - NEVER commit .env files to version control
# - Use different secrets for each environment
# - Rotate secrets regularly
# - Store production secrets in a secure vault
#
# üê≥ DOCKER:
# - Service names (postgres, redis, etc.) are internal Docker DNS names
# - External ports are mapped in docker-compose.yml
# - Volumes persist data between container restarts
#
# üìù HELP:
# - Documentation: See DOCKER_DEPLOYMENT_COMPLETE.md
# - Quick Start: See DOCKER_QUICK_START.md
# - Troubleshooting: Run `npm run diagnose:api`
#
# ============================================================================

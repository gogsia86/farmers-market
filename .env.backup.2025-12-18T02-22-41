# ============================================================================
# FARMERS MARKET PLATFORM - DOCKER ENVIRONMENT CONFIGURATION
# Production-Ready Environment Variables for Docker Compose
# ============================================================================

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3000
APP_PORT=3000

# Public URLs (Update for production deployment)
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL with PostGIS)
# ============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=farmersmarket
POSTGRES_PORT=5432

# Prisma Database URLs (automatically configured for Docker network)
DATABASE_URL=postgresql://farmers_user:changeme123@localhost:5432/farmers_market
DIRECT_URL=postgresql://postgres:postgres@db:5432/farmersmarket

# ============================================================================
# REDIS CACHE CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=quantum_cache_password
REDIS_URL=redis://:quantum_cache_password@redis:6379
REDIS_MAX_MEMORY=2gb

# ============================================================================
# AUTHENTICATION (NextAuth v5)
# ============================================================================
# IMPORTANT: Generate a secure random secret for production!
# Use: openssl rand -base64 32
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=change-this-to-a-random-secret-in-production-min-32-chars-long-please
AUTH_TRUST_HOST=true

# ============================================================================
# OAUTH PROVIDERS (Optional - Leave empty to disable)
# ============================================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ============================================================================
# STRIPE PAYMENT INTEGRATION (Optional)
# ============================================================================
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================================================
# AI SERVICES (Optional - Microsoft Agent Framework, OpenAI, Perplexity)
# ============================================================================
OPENAI_API_KEY=
PERPLEXITY_API_KEY=
PERPLEXITY_DEFAULT_MODEL=SONAR_PRO
ENABLE_AI_FEATURES=false

# ============================================================================
# EMAIL CONFIGURATION (SMTP)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@farmersmarket.app

# ============================================================================
# MONITORING & OBSERVABILITY (Optional)
# ============================================================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
ENABLE_TRACING=false
APPLICATIONINSIGHTS_CONNECTION_STRING=

# ============================================================================
# FILE UPLOAD & STORAGE
# ============================================================================
UPLOAD_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_ANALYTICS=true
ENABLE_SPEED_INSIGHTS=true
ENABLE_EXPERIMENTAL_FEATURES=false

# ============================================================================
# DOCKER BUILD CONFIGURATION
# ============================================================================
DOCKER_BUILD=true
SKIP_ENV_VALIDATION=true
NEXT_TELEMETRY_DISABLED=1

# ============================================================================
# DATABASE BACKUP CONFIGURATION
# ============================================================================
BACKUP_SCHEDULE=@daily
BACKUP_KEEP_DAYS=7
BACKUP_KEEP_WEEKS=4
BACKUP_KEEP_MONTHS=6

# ============================================================================
# MANAGEMENT UI CREDENTIALS (Optional - For Adminer & Redis Commander)
# ============================================================================
REDIS_UI_USER=admin
REDIS_UI_PASSWORD=admin
REDIS_UI_PORT=8081
ADMINER_PORT=8082

# ============================================================================
# DIVINE AGRICULTURAL PATTERNS
# ============================================================================
AGRICULTURAL_CONSCIOUSNESS=enabled
DIVINE_PATTERNS=active

# ============================================================================
# PRODUCTION DEPLOYMENT NOTES
# ============================================================================
# 1. CHANGE ALL DEFAULT PASSWORDS before deploying to production
# 2. Generate a new NEXTAUTH_SECRET: openssl rand -base64 32
# 3. Update NEXT_PUBLIC_APP_URL to your production domain
# 4. Configure OAuth providers if using social login
# 5. Set up Stripe keys if enabling payments
# 6. Configure SMTP for email functionality
# 7. Add monitoring/observability keys (Sentry, App Insights)
# 8. Review and adjust rate limiting in nginx configuration
# 9. Set up SSL certificates for HTTPS
# 10. Configure proper backup retention policies
# ============================================================================

# Monitoring & Notifications (Added 2025-11-26)
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/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"
SLACK_CHANNEL="#monitoring"
DISCORD_WEBHOOK_URL=""

# Application Base URL
BASE_URL="http://localhost:3000"
